<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¸ì‚¬ì´ë“œì¡ - ì·¨ì—… ë©˜í† ë§ í”Œë«í¼</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React 18 CDN (Development) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Supabase CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <!-- Meta Tags for SEO -->
    <meta name="description" content="í˜„ì§ìì™€ êµ¬ì§ìë¥¼ ì—°ê²°í•˜ëŠ” ì·¨ì—… ë©˜í† ë§ í”Œë«í¼. ì·¨ì—…ê²½ìŸë ¥ ì§„ë‹¨ë¶€í„° 1:1 ë©˜í† ë§ê¹Œì§€.">
    <meta name="keywords" content="ì·¨ì—…ë©˜í† ë§, í˜„ì§ììƒë‹´, ì·¨ì—…ê²½ìŸë ¥ì§„ë‹¨, ì»¤ë¦¬ì–´ì½”ì¹­, ì¸ì‚¬ì´ë“œì¡">
    <meta name="author" content="(ì£¼)ì˜¤í”ˆì»¤ë„¥íŠ¸">
    
    <!-- Open Graph -->
    <meta property="og:title" content="ì¸ì‚¬ì´ë“œì¡ - ì·¨ì—… ë©˜í† ë§ í”Œë«í¼">
    <meta property="og:description" content="í˜„ì§ìì™€ êµ¬ì§ìë¥¼ ì—°ê²°í•˜ëŠ” ì‹¤ë¬´ ì¤‘ì‹¬ ì»¤ë¦¬ì–´ ìƒë‹´ ì„œë¹„ìŠ¤">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://knwwhr.github.io/insidejob">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ¯</text></svg>">
    
    <!-- Custom Styles -->
    <style>
        /* ì¸ì‚¬ì´ë“œì¡ ì „ìš© ìŠ¤íƒ€ì¼ */
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            font-size: 18px;
            line-height: 1.6;
            background-color: #f8fafc;
            margin: 0;
            padding: 0;
        }

        /* ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .card {
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            padding: 24px;
            margin-bottom: 16px;
        }

        /* ì¸ì‚¬ì´ë“œì¡ ë¸Œëœë“œ ì»¬ëŸ¬ */
        .btn-primary {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 16px 24px;
            border-radius: 12px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
            display: inline-block;
            text-decoration: none;
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 8px 16px rgba(16, 185, 129, 0.3);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: 500;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-secondary:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 12px rgba(245, 158, 11, 0.3);
        }

        /* ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ */
        .loading-spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #10b981;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* ì„±ëŠ¥ ìµœì í™” */
        .loading-spinner {
            will-change: transform;
        }

        .card {
            will-change: box-shadow;
        }

        /* ì§€ì—° ë¡œë”© ìµœì í™” */
        .lazy-load {
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }

        .lazy-load.loaded {
            opacity: 1;
        }

        /* ë°˜ì‘í˜• ìµœì í™” */
        @media (max-width: 768px) {
            body { font-size: 16px; }
            .card { padding: 16px; margin-bottom: 12px; }
            .btn-primary { padding: 14px 20px; font-size: 14px; }
            
            /* ëª¨ë°”ì¼ ì„±ëŠ¥ ìµœì í™” */
            .hover\:shadow-lg:hover { transform: none; }
            .transition-all { transition: none; }
        }

        /* í”„ë¦¬ë¡œë“œ ìµœì í™” */
        .preload-none {
            content-visibility: auto;
            contain: layout style paint;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/javascript">
        // Supabase ì„¤ì •
        const SUPABASE_URL = 'https://upsedttmnulbmarhawyj.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVwc2VkdHRtbnVsYm1hcmhhd3lqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY0NDk5MzIsImV4cCI6MjA3MjAyNTkzMn0.j7QuXCFfIytrBvCsIQl0bt9EuVYScIzZWGTR3tVZdUs';
        
        const { createClient } = supabase;
        const supabaseClient = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        // ë¡œê·¸ì¸/íšŒì›ê°€ì… ëª¨ë‹¬ (í”Œëœë¹„ ìŠ¤íƒ€ì¼)
        const renderAuthModal = () => {
            const [email, setEmail] = React.useState('');
            const [password, setPassword] = React.useState('');
            const [nickname, setNickname] = React.useState('');
            const [isLoading, setIsLoading] = React.useState(false);
            
            return React.createElement('div', {
                className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 px-4'
            }, [
                React.createElement('div', {
                    key: 'modal-content',
                    className: 'bg-white rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl relative'
                }, [
                    // ë‹«ê¸° ë²„íŠ¼
                    React.createElement('button', {
                        key: 'close-btn',
                        className: 'absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl font-bold',
                        onClick: () => setCurrentView('home')
                    }, 'Ã—'),
                    
                    // í—¤ë”
                    React.createElement('div', {
                        key: 'modal-header',
                        className: 'text-center mb-6'
                    }, [
                        React.createElement('h2', {
                            key: 'modal-title',
                            className: 'text-2xl font-bold text-gray-800 mb-2'
                        }, authMode === 'login' ? 'ğŸ” ë¡œê·¸ì¸' : 'âœ¨ íšŒì›ê°€ì…'),
                        React.createElement('p', {
                            key: 'modal-subtitle',
                            className: 'text-gray-600'
                        }, authMode === 'login' ? 'ì¸ì‚¬ì´ë“œì¡ì— ë¡œê·¸ì¸í•˜ì„¸ìš”' : 'ì¸ì‚¬ì´ë“œì¡ì— ê°€ì…í•˜ê³  ëª¨ë“  ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ì„¸ìš”')
                    ]),
                    
                    // í¼
                    React.createElement('form', {
                        key: 'auth-form',
                        className: 'space-y-4',
                        onSubmit: (e) => {
                            e.preventDefault();
                            if (authMode === 'login') {
                                handleLogin(email, password);
                            } else {
                                handleSignUp(email, password, nickname);
                            }
                        }
                    }, [
                        // ë‹‰ë„¤ì„ (íšŒì›ê°€ì… ì‹œì—ë§Œ)
                        authMode === 'signup' ? React.createElement('div', {
                            key: 'nickname-field'
                        }, [
                            React.createElement('label', {
                                key: 'nickname-label',
                                className: 'block text-sm font-medium text-gray-700 mb-2'
                            }, 'ë‹‰ë„¤ì„'),
                            React.createElement('input', {
                                key: 'nickname-input',
                                type: 'text',
                                value: nickname,
                                onChange: (e) => setNickname(e.target.value),
                                className: 'w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-base',
                                placeholder: 'ë‹‰ë„¤ì„ì„ ì…ë ¥í•˜ì„¸ìš”',
                                required: true
                            })
                        ]) : null,
                        
                        // ì´ë©”ì¼
                        React.createElement('div', {
                            key: 'email-field'
                        }, [
                            React.createElement('label', {
                                key: 'email-label',
                                className: 'block text-sm font-medium text-gray-700 mb-2'
                            }, 'ì´ë©”ì¼'),
                            React.createElement('input', {
                                key: 'email-input',
                                type: 'email',
                                value: email,
                                onChange: (e) => setEmail(e.target.value),
                                className: 'w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-base',
                                placeholder: 'email@example.com',
                                required: true
                            })
                        ]),
                        
                        // ë¹„ë°€ë²ˆí˜¸
                        React.createElement('div', {
                            key: 'password-field'
                        }, [
                            React.createElement('label', {
                                key: 'password-label',
                                className: 'block text-sm font-medium text-gray-700 mb-2'
                            }, 'ë¹„ë°€ë²ˆí˜¸'),
                            React.createElement('input', {
                                key: 'password-input',
                                type: 'password',
                                value: password,
                                onChange: (e) => setPassword(e.target.value),
                                className: 'w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-base',
                                placeholder: 'ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”',
                                required: true,
                                minLength: 6
                            })
                        ]),
                        
                        // ì œì¶œ ë²„íŠ¼
                        React.createElement('button', {
                            key: 'submit-btn',
                            type: 'submit',
                            className: 'w-full btn-primary py-3 mt-6',
                            disabled: isLoading
                        }, isLoading ? 'ì²˜ë¦¬ì¤‘...' : (authMode === 'login' ? 'ë¡œê·¸ì¸' : 'íšŒì›ê°€ì…')),
                        
                        // ëª¨ë“œ ì „í™˜
                        React.createElement('div', {
                            key: 'mode-switch',
                            className: 'text-center mt-4'
                        }, [
                            React.createElement('span', {
                                key: 'switch-text',
                                className: 'text-gray-600 text-sm'
                            }, authMode === 'login' ? 'ì•„ì§ ê³„ì •ì´ ì—†ìœ¼ì‹ ê°€ìš”? ' : 'ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”? '),
                            React.createElement('button', {
                                key: 'switch-btn',
                                type: 'button',
                                className: 'text-green-600 hover:text-green-700 font-semibold text-sm',
                                onClick: () => setAuthMode(authMode === 'login' ? 'signup' : 'login')
                            }, authMode === 'login' ? 'íšŒì›ê°€ì…í•˜ê¸°' : 'ë¡œê·¸ì¸í•˜ê¸°')
                        ])
                    ])
                ])
            ]);
        };

        // ì»¤ë®¤ë‹ˆí‹° í™”ë©´ ë Œë”ë§
        const renderCommunityView = () => {
            const [posts, setPosts] = React.useState([]);
            const [isLoading, setIsLoading] = React.useState(true);
            const [showPostForm, setShowPostForm] = React.useState(false);
            const [newPost, setNewPost] = React.useState({ title: '', content: '' });

            // ê²Œì‹œê¸€ ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸°
            React.useEffect(() => {
                const fetchPosts = async () => {
                    try {
                        const { data, error } = await supabaseClient
                            .from('job_seeker_posts')
                            .select(`
                                *,
                                user_profiles!inner(nickname)
                            `)
                            .order('created_at', { ascending: false })
                            .limit(20);

                        if (error) throw error;
                        setPosts(data || []);
                    } catch (error) {
                        console.error('Posts fetch error:', error);
                        // ëª©ì—… ë°ì´í„° í‘œì‹œ
                        setPosts([
                            { id: 1, title: 'ì·¨ì—… ì¤€ë¹„ ê¿€íŒ ê³µìœ í•©ë‹ˆë‹¤', content: 'ì•ˆë…•í•˜ì„¸ìš”! ìµœê·¼ì— ë©´ì ‘ í•©ê²©í•œ ê²½í—˜ì„...', author: 'ì·¨ì—…ì„±ê³µëŸ¬', created_at: '2025-08-29T10:00:00', views: 45 },
                            { id: 2, title: 'ê°œë°œì í¬íŠ¸í´ë¦¬ì˜¤ í”¼ë“œë°± ë¶€íƒë“œë ¤ìš”', content: 'Reactë¡œ ë§Œë“  í”„ë¡œì íŠ¸ì¸ë° ì–´ë–¤ì§€...', author: 'ì‹ ì…ê°œë°œì', created_at: '2025-08-29T09:30:00', views: 32 },
                            { id: 3, title: 'ëŒ€ê¸°ì—… vs ìŠ¤íƒ€íŠ¸ì—… ê³ ë¯¼ë©ë‹ˆë‹¤', content: 'ë‘ ê³³ ë‹¤ í•©ê²©í–ˆëŠ”ë°...', author: 'ê³ ë¯¼ë§ì€ì²­ë…„', created_at: '2025-08-29T09:00:00', views: 78 }
                        ]);
                    } finally {
                        setIsLoading(false);
                    }
                };

                fetchPosts();
            }, []);

            // ìƒˆ ê²Œì‹œê¸€ ì‘ì„±
            const handleCreatePost = async () => {
                if (!newPost.title.trim() || !newPost.content.trim()) {
                    alert('ì œëª©ê³¼ ë‚´ìš©ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    return;
                }

                try {
                    const { error } = await supabaseClient
                        .from('job_seeker_posts')
                        .insert({
                            user_id: currentUser.id,
                            title: newPost.title,
                            content: newPost.content,
                            category: 'general'
                        });

                    if (error) throw error;
                    
                    alert('ê²Œì‹œê¸€ì´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤!');
                    setNewPost({ title: '', content: '' });
                    setShowPostForm(false);
                    // ëª©ë¡ ìƒˆë¡œê³ ì¹¨ ë¡œì§ ì¶”ê°€ í•„ìš”
                } catch (error) {
                    console.error('Post creation error:', error);
                    alert('ê²Œì‹œê¸€ ì‘ì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
                }
            };

            return React.createElement('div', {
                className: 'min-h-screen bg-gradient-to-br from-green-50 to-blue-50'
            }, [
                // í—¤ë”
                React.createElement('header', {
                    key: 'community-header',
                    className: 'bg-white shadow-sm border-b'
                }, React.createElement('div', {
                    className: 'max-w-7xl mx-auto px-4 py-6'
                }, [
                    React.createElement('div', {
                        key: 'header-content',
                        className: 'flex items-center justify-between'
                    }, [
                        React.createElement('button', {
                            key: 'back-btn',
                            className: 'text-gray-600 hover:text-gray-800 text-lg',
                            onClick: () => setCurrentView('home')
                        }, 'â† í™ˆìœ¼ë¡œ'),
                        React.createElement('h1', {
                            key: 'community-title',
                            className: 'text-2xl font-bold text-gray-900'
                        }, 'ğŸ’¬ êµ¬ì§ì ì»¤ë®¤ë‹ˆí‹°'),
                        React.createElement('button', {
                            key: 'write-btn',
                            className: 'btn-primary px-4 py-2',
                            onClick: () => setShowPostForm(!showPostForm)
                        }, showPostForm ? 'ì·¨ì†Œ' : 'âœï¸ ê¸€ì“°ê¸°')
                    ])
                ])),

                // ë©”ì¸ ì»¨í…ì¸ 
                React.createElement('main', {
                    key: 'community-main',
                    className: 'max-w-4xl mx-auto px-4 py-8'
                }, [
                    // ê¸€ì“°ê¸° í¼
                    showPostForm ? React.createElement('div', {
                        key: 'post-form',
                        className: 'card mb-6'
                    }, [
                        React.createElement('h3', {
                            key: 'form-title',
                            className: 'text-xl font-bold text-gray-800 mb-4'
                        }, 'ìƒˆ ê²Œì‹œê¸€ ì‘ì„±'),
                        React.createElement('div', {
                            key: 'form-fields',
                            className: 'space-y-4'
                        }, [
                            React.createElement('input', {
                                key: 'title-input',
                                type: 'text',
                                placeholder: 'ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”',
                                value: newPost.title,
                                onChange: (e) => setNewPost(prev => ({ ...prev, title: e.target.value })),
                                className: 'w-full px-4 py-3 border border-gray-300 rounded-lg text-base'
                            }),
                            React.createElement('textarea', {
                                key: 'content-input',
                                placeholder: 'ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”',
                                rows: 6,
                                value: newPost.content,
                                onChange: (e) => setNewPost(prev => ({ ...prev, content: e.target.value })),
                                className: 'w-full px-4 py-3 border border-gray-300 rounded-lg text-base resize-none'
                            }),
                            React.createElement('div', {
                                key: 'form-actions',
                                className: 'flex justify-end space-x-3'
                            }, [
                                React.createElement('button', {
                                    key: 'cancel-btn',
                                    className: 'px-6 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50',
                                    onClick: () => setShowPostForm(false)
                                }, 'ì·¨ì†Œ'),
                                React.createElement('button', {
                                    key: 'submit-btn',
                                    className: 'btn-primary px-6 py-2',
                                    onClick: handleCreatePost
                                }, 'ì‘ì„±ì™„ë£Œ')
                            ])
                        ])
                    ]) : null,

                    // ê²Œì‹œê¸€ ëª©ë¡
                    React.createElement('div', {
                        key: 'posts-container',
                        className: 'space-y-4'
                    }, [
                        React.createElement('h2', {
                            key: 'posts-title',
                            className: 'text-xl font-bold text-gray-800 mb-4'
                        }, 'ìµœì‹  ê²Œì‹œê¸€'),

                        isLoading ? 
                            React.createElement('div', {
                                key: 'loading',
                                className: 'text-center py-8'
                            }, 'ë¡œë”© ì¤‘...') :
                            posts.map((post, index) => 
                                React.createElement('div', {
                                    key: post.id || index,
                                    className: 'card hover:shadow-lg transition-shadow cursor-pointer',
                                    onClick: () => {
                                        if (isAuthenticated) {
                                            alert(`"${post.title}" ê²Œì‹œê¸€ ìƒì„¸ ê¸°ëŠ¥ ê°œë°œ ì˜ˆì •!`);
                                        } else {
                                            alert('ê²Œì‹œê¸€ ìƒì„¸ë³´ê¸°ëŠ” ë¡œê·¸ì¸ í›„ ì´ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.');
                                        }
                                    }
                                }, [
                                    React.createElement('div', {
                                        key: 'post-header',
                                        className: 'flex justify-between items-start mb-3'
                                    }, [
                                        React.createElement('h3', {
                                            key: 'post-title',
                                            className: 'text-lg font-semibold text-gray-800 hover:text-blue-600'
                                        }, post.title),
                                        React.createElement('div', {
                                            key: 'post-meta',
                                            className: 'text-sm text-gray-500'
                                        }, `ì¡°íšŒ ${post.views || 0}`)
                                    ]),
                                    React.createElement('p', {
                                        key: 'post-content',
                                        className: 'text-gray-600 mb-3 line-clamp-2'
                                    }, post.content.substring(0, 100) + (post.content.length > 100 ? '...' : '')),
                                    React.createElement('div', {
                                        key: 'post-footer',
                                        className: 'flex justify-between items-center text-sm text-gray-500'
                                    }, [
                                        React.createElement('span', {
                                            key: 'author'
                                        }, `ì‘ì„±ì: ${post.user_profiles?.nickname || post.author || 'ìµëª…'}`),
                                        React.createElement('span', {
                                            key: 'date'
                                        }, new Date(post.created_at).toLocaleDateString())
                                    ])
                                ])
                            )
                    ])
                ])
            ]);
        };

        // ë§ˆì´í˜ì´ì§€ ë Œë”ë§
        const renderMyPageView = () => {
            const [activeTab, setActiveTab] = React.useState('profile');
            const [myCalculations, setMyCalculations] = React.useState([]);
            const [myPosts, setMyPosts] = React.useState([]);
            const [isLoading, setIsLoading] = React.useState(true);

            // ë‚´ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
            React.useEffect(() => {
                const fetchMyData = async () => {
                    try {
                        // ë‚´ ê³„ì‚° ê²°ê³¼ ì¡°íšŒ
                        const { data: calculations, error: calcError } = await supabaseClient
                            .from('career_calculations')
                            .select('*')
                            .eq('user_id', currentUser.id)
                            .order('created_at', { ascending: false });

                        if (!calcError) {
                            setMyCalculations(calculations || []);
                        }

                        // ë‚´ ê²Œì‹œê¸€ ì¡°íšŒ
                        const { data: posts, error: postsError } = await supabaseClient
                            .from('job_seeker_posts')
                            .select('*')
                            .eq('user_id', currentUser.id)
                            .order('created_at', { ascending: false });

                        if (!postsError) {
                            setMyPosts(posts || []);
                        }

                    } catch (error) {
                        console.error('MyPage data fetch error:', error);
                        // ëª©ì—… ë°ì´í„°
                        setMyCalculations([
                            { id: 1, total_score: 75, grade: 'Bê¸‰ (ìƒìœ„ 30%)', created_at: '2025-08-29T10:00:00' }
                        ]);
                        setMyPosts([
                            { id: 1, title: 'ì·¨ì—… ì¤€ë¹„ íŒ ê³µìœ ', views: 45, created_at: '2025-08-29T09:00:00' }
                        ]);
                    } finally {
                        setIsLoading(false);
                    }
                };

                if (isAuthenticated) {
                    fetchMyData();
                }
            }, [isAuthenticated]);

            return React.createElement('div', {
                className: 'min-h-screen bg-gradient-to-br from-green-50 to-blue-50'
            }, [
                // í—¤ë”
                React.createElement('header', {
                    key: 'mypage-header',
                    className: 'bg-white shadow-sm border-b'
                }, React.createElement('div', {
                    className: 'max-w-7xl mx-auto px-4 py-6'
                }, [
                    React.createElement('div', {
                        key: 'header-content',
                        className: 'flex items-center justify-between'
                    }, [
                        React.createElement('button', {
                            key: 'back-btn',
                            className: 'text-gray-600 hover:text-gray-800 text-lg',
                            onClick: () => setCurrentView('home')
                        }, 'â† í™ˆìœ¼ë¡œ'),
                        React.createElement('h1', {
                            key: 'mypage-title',
                            className: 'text-2xl font-bold text-gray-900'
                        }, 'ğŸ‘¤ ë§ˆì´í˜ì´ì§€'),
                        React.createElement('div', {
                            key: 'space'
                        })
                    ])
                ])),

                // ë©”ì¸ ì»¨í…ì¸ 
                React.createElement('main', {
                    key: 'mypage-main',
                    className: 'max-w-6xl mx-auto px-4 py-8'
                }, [
                    // í”„ë¡œí•„ ì¹´ë“œ
                    React.createElement('div', {
                        key: 'profile-card',
                        className: 'card mb-8'
                    }, [
                        React.createElement('div', {
                            key: 'profile-info',
                            className: 'flex items-center space-x-4'
                        }, [
                            React.createElement('div', {
                                key: 'avatar',
                                className: 'w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white text-2xl font-bold'
                            }, (currentUser?.user_metadata?.nickname || currentUser?.email || 'U')[0].toUpperCase()),
                            React.createElement('div', {
                                key: 'info'
                            }, [
                                React.createElement('h2', {
                                    key: 'name',
                                    className: 'text-xl font-bold text-gray-800'
                                }, currentUser?.user_metadata?.nickname || 'ì‚¬ìš©ì'),
                                React.createElement('p', {
                                    key: 'email',
                                    className: 'text-gray-600'
                                }, currentUser?.email),
                                React.createElement('p', {
                                    key: 'join-date',
                                    className: 'text-sm text-gray-500'
                                }, `ê°€ì…ì¼: ${new Date(currentUser?.created_at).toLocaleDateString()}`)
                            ])
                        ])
                    ]),

                    // íƒ­ ë©”ë‰´
                    React.createElement('div', {
                        key: 'tab-menu',
                        className: 'flex space-x-1 bg-gray-100 p-1 rounded-lg mb-6'
                    }, [
                        React.createElement('button', {
                            key: 'profile-tab',
                            className: `px-4 py-2 rounded-md font-medium transition-all ${
                                activeTab === 'profile' 
                                ? 'bg-white text-blue-600 shadow-sm' 
                                : 'text-gray-600 hover:text-gray-800'
                            }`,
                            onClick: () => setActiveTab('profile')
                        }, 'í”„ë¡œí•„'),
                        React.createElement('button', {
                            key: 'calculations-tab',
                            className: `px-4 py-2 rounded-md font-medium transition-all ${
                                activeTab === 'calculations' 
                                ? 'bg-white text-blue-600 shadow-sm' 
                                : 'text-gray-600 hover:text-gray-800'
                            }`,
                            onClick: () => setActiveTab('calculations')
                        }, 'ì§„ë‹¨ ê¸°ë¡'),
                        React.createElement('button', {
                            key: 'posts-tab',
                            className: `px-4 py-2 rounded-md font-medium transition-all ${
                                activeTab === 'posts' 
                                ? 'bg-white text-blue-600 shadow-sm' 
                                : 'text-gray-600 hover:text-gray-800'
                            }`,
                            onClick: () => setActiveTab('posts')
                        }, 'ë‚´ ê²Œì‹œê¸€'),
                        React.createElement('button', {
                            key: 'settings-tab',
                            className: `px-4 py-2 rounded-md font-medium transition-all ${
                                activeTab === 'settings' 
                                ? 'bg-white text-blue-600 shadow-sm' 
                                : 'text-gray-600 hover:text-gray-800'
                            }`,
                            onClick: () => setActiveTab('settings')
                        }, 'ì„¤ì •')
                    ]),

                    // íƒ­ ì»¨í…ì¸ 
                    React.createElement('div', {
                        key: 'tab-content',
                        className: 'card min-h-[400px]'
                    }, [
                        // í”„ë¡œí•„ íƒ­
                        activeTab === 'profile' ? React.createElement('div', {
                            key: 'profile-content'
                        }, [
                            React.createElement('h3', {
                                key: 'profile-title',
                                className: 'text-xl font-bold text-gray-800 mb-4'
                            }, 'í”„ë¡œí•„ ì •ë³´'),
                            React.createElement('div', {
                                key: 'profile-stats',
                                className: 'grid grid-cols-1 md:grid-cols-3 gap-6'
                            }, [
                                React.createElement('div', {
                                    key: 'stat-1',
                                    className: 'bg-blue-50 p-4 rounded-lg text-center'
                                }, [
                                    React.createElement('div', {
                                        key: 'stat-number',
                                        className: 'text-2xl font-bold text-blue-600'
                                    }, myCalculations.length),
                                    React.createElement('div', {
                                        key: 'stat-label',
                                        className: 'text-sm text-gray-600 mt-1'
                                    }, 'ì§„ë‹¨ íšŸìˆ˜')
                                ]),
                                React.createElement('div', {
                                    key: 'stat-2',
                                    className: 'bg-green-50 p-4 rounded-lg text-center'
                                }, [
                                    React.createElement('div', {
                                        key: 'stat-number',
                                        className: 'text-2xl font-bold text-green-600'
                                    }, myPosts.length),
                                    React.createElement('div', {
                                        key: 'stat-label',
                                        className: 'text-sm text-gray-600 mt-1'
                                    }, 'ì‘ì„± ê¸€')
                                ]),
                                React.createElement('div', {
                                    key: 'stat-3',
                                    className: 'bg-purple-50 p-4 rounded-lg text-center'
                                }, [
                                    React.createElement('div', {
                                        key: 'stat-number',
                                        className: 'text-2xl font-bold text-purple-600'
                                    }, '0'),
                                    React.createElement('div', {
                                        key: 'stat-label',
                                        className: 'text-sm text-gray-600 mt-1'
                                    }, 'ìƒë‹´ íšŸìˆ˜')
                                ])
                            ])
                        ]) : null,

                        // ì§„ë‹¨ ê¸°ë¡ íƒ­
                        activeTab === 'calculations' ? React.createElement('div', {
                            key: 'calculations-content'
                        }, [
                            React.createElement('h3', {
                                key: 'calc-title',
                                className: 'text-xl font-bold text-gray-800 mb-4'
                            }, 'ì·¨ì—…ê²½ìŸë ¥ ì§„ë‹¨ ê¸°ë¡'),
                            myCalculations.length === 0 ? 
                                React.createElement('div', {
                                    key: 'no-calc',
                                    className: 'text-center py-12 text-gray-500'
                                }, [
                                    React.createElement('div', {
                                        key: 'icon',
                                        className: 'text-4xl mb-4'
                                    }, 'ğŸ“Š'),
                                    React.createElement('p', {
                                        key: 'text'
                                    }, 'ì•„ì§ ì§„ë‹¨ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.'),
                                    React.createElement('button', {
                                        key: 'calc-btn',
                                        className: 'btn-primary mt-4',
                                        onClick: () => setCurrentView('calculator')
                                    }, 'ì§„ë‹¨ ì‹œì‘í•˜ê¸°')
                                ]) :
                                React.createElement('div', {
                                    key: 'calc-list',
                                    className: 'space-y-4'
                                }, myCalculations.map((calc, index) => 
                                    React.createElement('div', {
                                        key: calc.id || index,
                                        className: 'border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow'
                                    }, [
                                        React.createElement('div', {
                                            key: 'calc-header',
                                            className: 'flex justify-between items-center mb-2'
                                        }, [
                                            React.createElement('span', {
                                                key: 'score',
                                                className: 'text-xl font-bold text-blue-600'
                                            }, `${calc.total_score}ì `),
                                            React.createElement('span', {
                                                key: 'date',
                                                className: 'text-sm text-gray-500'
                                            }, new Date(calc.created_at).toLocaleDateString())
                                        ]),
                                        React.createElement('div', {
                                            key: 'grade',
                                            className: 'text-gray-700'
                                        }, calc.grade)
                                    ])
                                ))
                        ]) : null,

                        // ë‚´ ê²Œì‹œê¸€ íƒ­
                        activeTab === 'posts' ? React.createElement('div', {
                            key: 'posts-content'
                        }, [
                            React.createElement('h3', {
                                key: 'posts-title',
                                className: 'text-xl font-bold text-gray-800 mb-4'
                            }, 'ë‚´ê°€ ì“´ ê²Œì‹œê¸€'),
                            myPosts.length === 0 ? 
                                React.createElement('div', {
                                    key: 'no-posts',
                                    className: 'text-center py-12 text-gray-500'
                                }, [
                                    React.createElement('div', {
                                        key: 'icon',
                                        className: 'text-4xl mb-4'
                                    }, 'ğŸ“'),
                                    React.createElement('p', {
                                        key: 'text'
                                    }, 'ì•„ì§ ì‘ì„±í•œ ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.'),
                                    React.createElement('button', {
                                        key: 'community-btn',
                                        className: 'btn-primary mt-4',
                                        onClick: () => setCurrentView('community')
                                    }, 'ì»¤ë®¤ë‹ˆí‹° ê°€ê¸°')
                                ]) :
                                React.createElement('div', {
                                    key: 'posts-list',
                                    className: 'space-y-4'
                                }, myPosts.map((post, index) => 
                                    React.createElement('div', {
                                        key: post.id || index,
                                        className: 'border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer',
                                        onClick: () => alert('ê²Œì‹œê¸€ ìƒì„¸ ë³´ê¸° ê°œë°œ ì˜ˆì •!')
                                    }, [
                                        React.createElement('div', {
                                            key: 'post-header',
                                            className: 'flex justify-between items-start mb-2'
                                        }, [
                                            React.createElement('h4', {
                                                key: 'title',
                                                className: 'font-semibold text-gray-800'
                                            }, post.title),
                                            React.createElement('span', {
                                                key: 'views',
                                                className: 'text-sm text-gray-500'
                                            }, `ì¡°íšŒ ${post.views || 0}`)
                                        ]),
                                        React.createElement('div', {
                                            key: 'post-date',
                                            className: 'text-sm text-gray-500'
                                        }, new Date(post.created_at).toLocaleDateString())
                                    ])
                                ))
                        ]) : null,

                        // ì„¤ì • íƒ­
                        activeTab === 'settings' ? React.createElement('div', {
                            key: 'settings-content'
                        }, [
                            React.createElement('h3', {
                                key: 'settings-title',
                                className: 'text-xl font-bold text-gray-800 mb-4'
                            }, 'ê³„ì • ì„¤ì •'),
                            React.createElement('div', {
                                key: 'settings-options',
                                className: 'space-y-4'
                            }, [
                                React.createElement('button', {
                                    key: 'logout-btn',
                                    className: 'w-full bg-red-500 hover:bg-red-600 text-white px-4 py-3 rounded-lg font-medium transition-colors',
                                    onClick: handleLogout
                                }, 'ë¡œê·¸ì•„ì›ƒ'),
                                React.createElement('div', {
                                    key: 'danger-zone',
                                    className: 'mt-8 pt-8 border-t border-red-200'
                                }, [
                                    React.createElement('h4', {
                                        key: 'danger-title',
                                        className: 'text-lg font-semibold text-red-600 mb-4'
                                    }, 'ìœ„í—˜ êµ¬ì—­'),
                                    React.createElement('button', {
                                        key: 'delete-account',
                                        className: 'bg-red-100 hover:bg-red-200 text-red-700 px-4 py-2 rounded-lg font-medium transition-colors',
                                        onClick: () => alert('ê³„ì • ì‚­ì œ ê¸°ëŠ¥ì€ ê°œë°œ ì˜ˆì •ì…ë‹ˆë‹¤.')
                                    }, 'ê³„ì • ì‚­ì œ')
                                ])
                            ])
                        ]) : null
                    ])
                ])
            ]);
        };

        // 10ë¶„ ë‹¨ìœ„ ìƒë‹´ ì˜ˆì•½ ì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸
        const renderConsultationView = () => {
            const [consultationDuration, setConsultationDuration] = React.useState(30); // ê¸°ë³¸ 30ë¶„
            
            // ì‹œìŠ¤í…œ ì„¤ì • (ì‹¤ì œë¡œëŠ” ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ê°€ì ¸ì™€ì•¼ í•¨)
            const systemSettings = {
                commissionRate: 0.20, // 20% ìˆ˜ìˆ˜ë£Œ
                availableTimeUnits: [10, 20, 30, 40, 50, 60] // 10ë¶„ ë‹¨ìœ„
            };
            const [experts] = React.useState([
                { 
                    id: 1, 
                    name: 'ê¹€ê°œë°œ', 
                    company: 'ë„¤ì´ë²„', 
                    position: 'ì‹œë‹ˆì–´ ê°œë°œì',
                    industry: 'tech_development',
                    hourlyRate: 100000,
                    experience: '5ë…„',
                    specialties: ['React', 'Node.js', 'ë©´ì ‘ ì½”ì¹­']
                },
                { 
                    id: 2, 
                    name: 'ë°•ë§ˆì¼€í„°', 
                    company: 'ì¹´ì¹´ì˜¤', 
                    position: 'ë§ˆì¼€íŒ… íŒ€ì¥',
                    industry: 'marketing_planning',
                    hourlyRate: 80000,
                    experience: '7ë…„',
                    specialties: ['ë””ì§€í„¸ ë§ˆì¼€íŒ…', 'ë¸Œëœë”©', 'ì»¤ë¦¬ì–´ ì„¤ê³„']
                }
            ]);

            // ìƒë‹´ë£Œ ê³„ì‚°
            const calculateConsultationFee = (hourlyRate, duration) => {
                return Math.round((hourlyRate / 60) * duration);
            };

            const renderPriceBreakdown = (consultationFee) => {
                const platformFee = Math.round(consultationFee * systemSettings.commissionRate);
                const expertPayout = consultationFee - platformFee;
                
                return React.createElement('div', {
                    className: 'card bg-blue-50'
                }, [
                    React.createElement('h4', {
                        key: 'title',
                        className: 'font-semibold mb-3 text-blue-800'
                    }, 'ğŸ’° ìƒë‹´ë£Œ ìƒì„¸ë‚´ì—­'),
                    
                    React.createElement('div', {
                        key: 'breakdown',
                        className: 'space-y-2 text-sm'
                    }, [
                        React.createElement('div', {
                            key: 'consultation-fee',
                            className: 'flex justify-between'
                        }, [
                            React.createElement('span', { key: 'label' }, `ìƒë‹´ë£Œ (${consultationDuration}ë¶„)`),
                            React.createElement('span', { 
                                key: 'amount',
                                className: 'font-semibold' 
                            }, `${consultationFee.toLocaleString()}ì›`)
                        ]),
                        
                        React.createElement('div', {
                            key: 'platform-fee', 
                            className: 'flex justify-between text-gray-600'
                        }, [
                            React.createElement('span', { key: 'label' }, `í”Œë«í¼ ìˆ˜ìˆ˜ë£Œ (${Math.round(systemSettings.commissionRate * 100)}%)`),
                            React.createElement('span', { key: 'amount' }, `-${platformFee.toLocaleString()}ì›`)
                        ]),
                        
                        React.createElement('div', {
                            key: 'expert-payout',
                            className: 'flex justify-between text-gray-600'  
                        }, [
                            React.createElement('span', { key: 'label' }, 'ì „ë¬¸ê°€ ìˆ˜ë ¹ì•¡'),
                            React.createElement('span', { key: 'amount' }, `${expertPayout.toLocaleString()}ì›`)
                        ]),
                        
                        React.createElement('hr', { key: 'divider', className: 'my-2' }),
                        
                        React.createElement('div', {
                            key: 'total',
                            className: 'flex justify-between font-bold text-lg text-blue-800'
                        }, [
                            React.createElement('span', { key: 'label' }, 'ê²°ì œ ê¸ˆì•¡'),
                            React.createElement('span', { 
                                key: 'amount'
                            }, `${consultationFee.toLocaleString()}ì›`)
                        ])
                    ])
                ]);
            };

            return React.createElement('div', {
                className: 'min-h-screen bg-gradient-to-br from-green-50 to-blue-50'
            }, [
                // í—¤ë”
                React.createElement('header', {
                    key: 'consultation-header',
                    className: 'bg-white shadow-sm border-b'
                }, React.createElement('div', {
                    className: 'max-w-7xl mx-auto px-4 py-6'
                }, [
                    React.createElement('div', {
                        key: 'header-content',
                        className: 'flex items-center justify-between'
                    }, [
                        React.createElement('button', {
                            key: 'back-btn',
                            className: 'text-gray-600 hover:text-gray-800 text-lg',
                            onClick: () => setCurrentView('home')
                        }, 'â† í™ˆìœ¼ë¡œ'),
                        React.createElement('h1', {
                            key: 'consultation-title',
                            className: 'text-2xl font-bold text-gray-900'
                        }, 'ğŸ’¼ ì „ë¬¸ê°€ ìƒë‹´ ì˜ˆì•½'),
                        React.createElement('div', {
                            key: 'space'
                        })
                    ])
                ])),

                // ë©”ì¸ ì»¨í…ì¸ 
                React.createElement('main', {
                    key: 'consultation-main',
                    className: 'max-w-6xl mx-auto px-4 py-8'
                }, [
                    // ìƒë‹´ ì‹œê°„ ì„ íƒ
                    React.createElement('div', {
                        key: 'time-selector',
                        className: 'card mb-6'
                    }, [
                        React.createElement('h3', {
                            key: 'time-title',
                            className: 'text-lg font-semibold mb-4'
                        }, 'â° ìƒë‹´ ì‹œê°„ ì„ íƒ'),
                        
                        React.createElement('div', {
                            key: 'time-options',
                            className: 'grid grid-cols-3 sm:grid-cols-6 gap-3'
                        }, systemSettings.availableTimeUnits.map(minutes => 
                            React.createElement('button', {
                                key: minutes,
                                className: `p-3 border-2 rounded-lg transition-all text-center ${
                                    consultationDuration === minutes 
                                        ? 'border-blue-500 bg-blue-50 text-blue-700' 
                                        : 'border-gray-300 hover:border-gray-400'
                                }`,
                                onClick: () => setConsultationDuration(minutes)
                            }, [
                                React.createElement('div', {
                                    key: 'duration',
                                    className: 'font-semibold'
                                }, `${minutes}ë¶„`)
                            ])
                        ))
                    ]),

                    // ì „ë¬¸ê°€ ëª©ë¡
                    React.createElement('div', {
                        key: 'experts-list',
                        className: 'space-y-6'
                    }, experts.map(expert => {
                        const consultationFee = calculateConsultationFee(expert.hourlyRate, consultationDuration);
                        
                        return React.createElement('div', {
                            key: expert.id,
                            className: 'card hover:shadow-lg transition-shadow'
                        }, [
                            React.createElement('div', {
                                key: 'expert-info',
                                className: 'flex flex-col lg:flex-row gap-6'
                            }, [
                                // ì „ë¬¸ê°€ ì •ë³´
                                React.createElement('div', {
                                    key: 'info',
                                    className: 'flex-1'
                                }, [
                                    React.createElement('div', {
                                        key: 'header',
                                        className: 'flex items-center space-x-4 mb-4'
                                    }, [
                                        React.createElement('div', {
                                            key: 'avatar',
                                            className: 'w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white text-lg font-bold'
                                        }, expert.name[0]),
                                        React.createElement('div', {
                                            key: 'details'
                                        }, [
                                            React.createElement('h3', {
                                                key: 'name',
                                                className: 'text-xl font-bold text-gray-800'
                                            }, expert.name),
                                            React.createElement('p', {
                                                key: 'position',
                                                className: 'text-gray-600'
                                            }, `${expert.company} â€¢ ${expert.position}`),
                                            React.createElement('p', {
                                                key: 'experience',
                                                className: 'text-sm text-blue-600'
                                            }, `ê²½ë ¥ ${expert.experience}`)
                                        ])
                                    ]),
                                    
                                    React.createElement('div', {
                                        key: 'specialties',
                                        className: 'mb-4'
                                    }, [
                                        React.createElement('p', {
                                            key: 'label',
                                            className: 'text-sm text-gray-600 mb-2'
                                        }, 'ì „ë¬¸ ë¶„ì•¼:'),
                                        React.createElement('div', {
                                            key: 'tags',
                                            className: 'flex flex-wrap gap-2'
                                        }, expert.specialties.map((specialty, index) => 
                                            React.createElement('span', {
                                                key: index,
                                                className: 'px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full'
                                            }, specialty)
                                        ))
                                    ])
                                ]),

                                // ê°€ê²© ì •ë³´ ë° ì˜ˆì•½ ë²„íŠ¼
                                React.createElement('div', {
                                    key: 'booking',
                                    className: 'lg:w-1/3'
                                }, [
                                    renderPriceBreakdown(consultationFee),
                                    
                                    React.createElement('div', {
                                        key: 'booking-buttons',
                                        className: 'space-y-3 mt-4'
                                    }, [
                                        React.createElement('button', {
                                            key: 'book-btn',
                                            className: 'btn-primary w-full',
                                            onClick: async () => {
                                                if (!isAuthenticated) {
                                                    alert('ìƒë‹´ ì˜ˆì•½ì€ ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                                                    setCurrentView('auth');
                                                    return;
                                                }
                                                
                                                try {
                                                    // ìƒë‹´ ì˜ˆì•½ ìƒì„±
                                                    const bookingData = {
                                                        job_seeker_id: currentUser?.id,
                                                        professional_id: `expert-${expert.id}`, // ì‹¤ì œ ì „ë¬¸ê°€ IDë¡œ êµì²´ í•„ìš”
                                                        consultation_type: 'career_planning',
                                                        consultation_method: 'video_call',
                                                        scheduled_date: new Date().toISOString().split('T')[0],
                                                        scheduled_time: '14:00:00',
                                                        duration_minutes: consultationDuration,
                                                        consultation_fee: consultationFee,
                                                        platform_fee_rate: systemSettings.commissionRate,
                                                        total_amount: consultationFee
                                                    };
                                                    
                                                    const { data, error } = await supabaseClient
                                                        .from('consultation_bookings')
                                                        .insert(bookingData)
                                                        .select()
                                                        .single();
                                                    
                                                    if (error) throw error;
                                                    
                                                    alert('ìƒë‹´ ì˜ˆì•½ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ì±„íŒ…ë°©ì—ì„œ ì „ë¬¸ê°€ì™€ ìƒë‹´í•˜ì„¸ìš”.');
                                                    setSelectedBooking(data.id);
                                                    
                                                } catch (error) {
                                                    console.error('Booking error:', error);
                                                    alert('ì˜ˆì•½ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message);
                                                }
                                            }
                                        }, `ğŸ’¼ ${consultationDuration}ë¶„ ìƒë‹´ ì˜ˆì•½`),
                                        
                                        // ë°ëª¨ìš© ì±„íŒ… ì…ì¥ ë²„íŠ¼ (ì‹¤ì œë¡œëŠ” ì˜ˆì•½ ì™„ë£Œ í›„ í‘œì‹œ)
                                        React.createElement('button', {
                                            key: 'chat-btn',
                                            className: 'btn-secondary w-full bg-green-500 hover:bg-green-600 text-white',
                                            onClick: () => {
                                                if (!isAuthenticated) {
                                                    alert('ì±„íŒ…ì€ ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                                                    setCurrentView('auth');
                                                    return;
                                                }
                                                
                                                // ë°ëª¨ìš© ì±„íŒ…ë°© ID ìƒì„±
                                                const demoBookingId = `demo-${expert.id}-${Date.now()}`;
                                                enterConsultationChat(demoBookingId);
                                            }
                                        }, 'ğŸ’¬ ì±„íŒ…ë°© ì…ì¥ (ë°ëª¨)')
                                    ])
                                ])
                            ])
                        ]);
                    }))
                ])
            ]);
        };

        // ìª½ì§€ ì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸
        const renderMessagesView = () => {
            const [activeTab, setActiveTab] = React.useState('inbox'); // inbox, sent, compose
            const [messageContent, setMessageContent] = React.useState({ subject: '', content: '', receiverId: '' });
            const [isLoading, setIsLoading] = React.useState(false);

            // ë°›ì€ ìª½ì§€ ëª©ë¡
            const [inboxMessages] = React.useState([
                {
                    id: 1,
                    subject: 'ë©´ì ‘ ì¤€ë¹„ ìŠ¤í„°ë”” ì°¸ì—¬ ë¬¸ì˜',
                    content: 'ì•ˆë…•í•˜ì„¸ìš”! ê²Œì‹œê¸€ì„ ë³´ê³  ì—°ë½ë“œë¦½ë‹ˆë‹¤. í•¨ê»˜ ë©´ì ‘ ì¤€ë¹„í•˜ì‹¤ë˜ìš”?',
                    sender_name: 'ì·¨ì—…ì¤€ë¹„ìƒA',
                    is_read: false,
                    created_at: '2025-08-29T10:00:00'
                },
                {
                    id: 2,
                    subject: 'í¬íŠ¸í´ë¦¬ì˜¤ í”¼ë“œë°± ê°ì‚¬í•©ë‹ˆë‹¤',
                    content: 'ì¡°ì–¸í•´ì£¼ì‹  ë‚´ìš© ë°˜ì˜í•´ì„œ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤. ì •ë§ ê°ì‚¬í•´ìš”!',
                    sender_name: 'ì‹ ì…ê°œë°œìB',
                    is_read: true,
                    created_at: '2025-08-28T15:30:00'
                }
            ]);

            // ë³´ë‚¸ ìª½ì§€ ëª©ë¡
            const [sentMessages] = React.useState([
                {
                    id: 3,
                    subject: 'ê°œë°œì ìŠ¤í„°ë”” ê·¸ë£¹ ì´ˆëŒ€',
                    content: 'React ìŠ¤í„°ë”” ê·¸ë£¹ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ì°¸ì—¬í•˜ì‹¤ë˜ìš”?',
                    receiver_name: 'ì˜ˆë¹„ê°œë°œìC',
                    created_at: '2025-08-28T09:00:00'
                }
            ]);

            // ìª½ì§€ ì „ì†¡
            const sendMessage = async () => {
                if (!messageContent.subject.trim() || !messageContent.content.trim()) {
                    alert('ì œëª©ê³¼ ë‚´ìš©ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    return;
                }

                setIsLoading(true);
                try {
                    // ì‹¤ì œ êµ¬í˜„ ì‹œ Supabaseì— ì €ì¥
                    // const { error } = await supabaseClient
                    //     .from('member_messages')
                    //     .insert({
                    //         receiver_id: messageContent.receiverId,
                    //         subject: messageContent.subject,
                    //         content: messageContent.content
                    //     });

                    alert('ìª½ì§€ê°€ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤!');
                    setMessageContent({ subject: '', content: '', receiverId: '' });
                    setActiveTab('inbox');
                } catch (error) {
                    console.error('Message send error:', error);
                    alert('ìª½ì§€ ì „ì†¡ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
                } finally {
                    setIsLoading(false);
                }
            };

            const renderTabButton = (tab, label, icon) => {
                return React.createElement('button', {
                    key: tab,
                    className: `px-4 py-2 rounded-lg font-medium transition-colors ${
                        activeTab === tab 
                            ? 'bg-blue-500 text-white' 
                            : 'text-gray-600 hover:bg-gray-100'
                    }`,
                    onClick: () => setActiveTab(tab)
                }, `${icon} ${label}`);
            };

            return React.createElement('div', {
                className: 'min-h-screen bg-gradient-to-br from-green-50 to-blue-50'
            }, [
                // í—¤ë”
                React.createElement('header', {
                    key: 'messages-header',
                    className: 'bg-white shadow-sm border-b'
                }, React.createElement('div', {
                    className: 'max-w-7xl mx-auto px-4 py-6'
                }, [
                    React.createElement('div', {
                        key: 'header-content',
                        className: 'flex items-center justify-between'
                    }, [
                        React.createElement('button', {
                            key: 'back-btn',
                            className: 'text-gray-600 hover:text-gray-800 text-lg',
                            onClick: () => setCurrentView('home')
                        }, 'â† í™ˆìœ¼ë¡œ'),
                        React.createElement('h1', {
                            key: 'messages-title',
                            className: 'text-2xl font-bold text-gray-900'
                        }, 'ğŸ“© ìª½ì§€'),
                        React.createElement('div', {
                            key: 'space'
                        })
                    ])
                ])),

                // ë©”ì¸ ì»¨í…ì¸ 
                React.createElement('main', {
                    key: 'messages-main',
                    className: 'max-w-4xl mx-auto px-4 py-8'
                }, [
                    // íƒ­ ë„¤ë¹„ê²Œì´ì…˜
                    React.createElement('div', {
                        key: 'tabs',
                        className: 'flex space-x-2 mb-6'
                    }, [
                        renderTabButton('inbox', 'ë°›ì€ìª½ì§€', 'ğŸ“¥'),
                        renderTabButton('sent', 'ë³´ë‚¸ìª½ì§€', 'ğŸ“¤'),
                        renderTabButton('compose', 'ìª½ì§€ì“°ê¸°', 'âœï¸')
                    ]),

                    // ë°›ì€ìª½ì§€ íƒ­
                    activeTab === 'inbox' ? React.createElement('div', {
                        key: 'inbox-content',
                        className: 'card'
                    }, [
                        React.createElement('h3', {
                            key: 'inbox-title',
                            className: 'text-xl font-bold text-gray-800 mb-4'
                        }, 'ğŸ“¥ ë°›ì€ìª½ì§€'),
                        
                        inboxMessages.length === 0 ? 
                            React.createElement('div', {
                                key: 'no-messages',
                                className: 'text-center py-12 text-gray-500'
                            }, [
                                React.createElement('div', {
                                    key: 'icon',
                                    className: 'text-4xl mb-4'
                                }, 'ğŸ“¥'),
                                React.createElement('p', {
                                    key: 'text'
                                }, 'ë°›ì€ ìª½ì§€ê°€ ì—†ìŠµë‹ˆë‹¤.')
                            ]) :
                            React.createElement('div', {
                                key: 'messages-list',
                                className: 'space-y-3'
                            }, inboxMessages.map(message => 
                                React.createElement('div', {
                                    key: message.id,
                                    className: `border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer ${
                                        !message.is_read ? 'bg-blue-50 border-blue-200' : ''
                                    }`,
                                    onClick: () => {
                                        setSelectedMessage(message);
                                        alert(`ìª½ì§€ ë‚´ìš©: ${message.content}`);
                                    }
                                }, [
                                    React.createElement('div', {
                                        key: 'message-header',
                                        className: 'flex justify-between items-start mb-2'
                                    }, [
                                        React.createElement('div', {
                                            key: 'info'
                                        }, [
                                            React.createElement('h4', {
                                                key: 'subject',
                                                className: `font-semibold text-gray-800 ${!message.is_read ? 'font-bold' : ''}`
                                            }, message.subject),
                                            React.createElement('p', {
                                                key: 'sender',
                                                className: 'text-sm text-gray-600'
                                            }, `ë°œì‹ ì: ${message.sender_name}`)
                                        ]),
                                        React.createElement('div', {
                                            key: 'meta',
                                            className: 'text-right'
                                        }, [
                                            !message.is_read ? React.createElement('span', {
                                                key: 'new-badge',
                                                className: 'inline-block w-2 h-2 bg-blue-500 rounded-full mb-1'
                                            }) : null,
                                            React.createElement('p', {
                                                key: 'date',
                                                className: 'text-xs text-gray-500'
                                            }, new Date(message.created_at).toLocaleDateString())
                                        ])
                                    ]),
                                    React.createElement('p', {
                                        key: 'preview',
                                        className: 'text-sm text-gray-700 line-clamp-2'
                                    }, message.content.substring(0, 80) + (message.content.length > 80 ? '...' : ''))
                                ])
                            ))
                    ]) : null,

                    // ë³´ë‚¸ìª½ì§€ íƒ­
                    activeTab === 'sent' ? React.createElement('div', {
                        key: 'sent-content',
                        className: 'card'
                    }, [
                        React.createElement('h3', {
                            key: 'sent-title',
                            className: 'text-xl font-bold text-gray-800 mb-4'
                        }, 'ğŸ“¤ ë³´ë‚¸ìª½ì§€'),
                        
                        sentMessages.length === 0 ? 
                            React.createElement('div', {
                                key: 'no-sent',
                                className: 'text-center py-12 text-gray-500'
                            }, [
                                React.createElement('div', {
                                    key: 'icon',
                                    className: 'text-4xl mb-4'
                                }, 'ğŸ“¤'),
                                React.createElement('p', {
                                    key: 'text'
                                }, 'ë³´ë‚¸ ìª½ì§€ê°€ ì—†ìŠµë‹ˆë‹¤.')
                            ]) :
                            React.createElement('div', {
                                key: 'sent-list',
                                className: 'space-y-3'
                            }, sentMessages.map(message => 
                                React.createElement('div', {
                                    key: message.id,
                                    className: 'border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer',
                                    onClick: () => alert(`ë³´ë‚¸ ìª½ì§€ ë‚´ìš©: ${message.content}`)
                                }, [
                                    React.createElement('div', {
                                        key: 'sent-header',
                                        className: 'flex justify-between items-start mb-2'
                                    }, [
                                        React.createElement('div', {
                                            key: 'info'
                                        }, [
                                            React.createElement('h4', {
                                                key: 'subject',
                                                className: 'font-semibold text-gray-800'
                                            }, message.subject),
                                            React.createElement('p', {
                                                key: 'receiver',
                                                className: 'text-sm text-gray-600'
                                            }, `ë°›ëŠ”ì‚¬ëŒ: ${message.receiver_name}`)
                                        ]),
                                        React.createElement('p', {
                                            key: 'date',
                                            className: 'text-xs text-gray-500'
                                        }, new Date(message.created_at).toLocaleDateString())
                                    ]),
                                    React.createElement('p', {
                                        key: 'preview',
                                        className: 'text-sm text-gray-700 line-clamp-2'
                                    }, message.content.substring(0, 80) + (message.content.length > 80 ? '...' : ''))
                                ])
                            ))
                    ]) : null,

                    // ìª½ì§€ì“°ê¸° íƒ­
                    activeTab === 'compose' ? React.createElement('div', {
                        key: 'compose-content',
                        className: 'card'
                    }, [
                        React.createElement('h3', {
                            key: 'compose-title',
                            className: 'text-xl font-bold text-gray-800 mb-4'
                        }, 'âœï¸ ìª½ì§€ ì“°ê¸°'),
                        
                        React.createElement('div', {
                            key: 'compose-form',
                            className: 'space-y-4'
                        }, [
                            // ë°›ëŠ”ì‚¬ëŒ (í˜„ì¬ëŠ” ì„ì‹œë¡œ í…ìŠ¤íŠ¸ ì…ë ¥)
                            React.createElement('div', {
                                key: 'receiver-group'
                            }, [
                                React.createElement('label', {
                                    key: 'receiver-label',
                                    className: 'block text-sm font-medium text-gray-700 mb-2'
                                }, 'ë°›ëŠ”ì‚¬ëŒ'),
                                React.createElement('input', {
                                    key: 'receiver-input',
                                    type: 'text',
                                    placeholder: 'ë°›ëŠ”ì‚¬ëŒì˜ ë‹‰ë„¤ì„ì„ ì…ë ¥í•˜ì„¸ìš”',
                                    value: messageContent.receiverId,
                                    onChange: (e) => setMessageContent({...messageContent, receiverId: e.target.value}),
                                    className: 'w-full px-3 py-2 border border-gray-300 rounded-lg'
                                })
                            ]),

                            // ì œëª©
                            React.createElement('div', {
                                key: 'subject-group'
                            }, [
                                React.createElement('label', {
                                    key: 'subject-label',
                                    className: 'block text-sm font-medium text-gray-700 mb-2'
                                }, 'ì œëª©'),
                                React.createElement('input', {
                                    key: 'subject-input',
                                    type: 'text',
                                    placeholder: 'ìª½ì§€ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”',
                                    value: messageContent.subject,
                                    onChange: (e) => setMessageContent({...messageContent, subject: e.target.value}),
                                    className: 'w-full px-3 py-2 border border-gray-300 rounded-lg'
                                })
                            ]),

                            // ë‚´ìš©
                            React.createElement('div', {
                                key: 'content-group'
                            }, [
                                React.createElement('label', {
                                    key: 'content-label',
                                    className: 'block text-sm font-medium text-gray-700 mb-2'
                                }, 'ë‚´ìš©'),
                                React.createElement('textarea', {
                                    key: 'content-textarea',
                                    placeholder: 'ìª½ì§€ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”',
                                    value: messageContent.content,
                                    onChange: (e) => setMessageContent({...messageContent, content: e.target.value}),
                                    rows: 8,
                                    className: 'w-full px-3 py-2 border border-gray-300 rounded-lg'
                                })
                            ]),

                            // ì „ì†¡ ë²„íŠ¼
                            React.createElement('div', {
                                key: 'actions',
                                className: 'flex justify-end space-x-3'
                            }, [
                                React.createElement('button', {
                                    key: 'cancel-btn',
                                    className: 'px-6 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50',
                                    onClick: () => {
                                        setMessageContent({ subject: '', content: '', receiverId: '' });
                                        setActiveTab('inbox');
                                    }
                                }, 'ì·¨ì†Œ'),
                                React.createElement('button', {
                                    key: 'send-btn',
                                    className: 'btn-primary',
                                    onClick: sendMessage,
                                    disabled: isLoading
                                }, isLoading ? 'ì „ì†¡ì¤‘...' : 'ğŸ“© ìª½ì§€ ë³´ë‚´ê¸°')
                            ])
                        ])
                    ]) : null
                ])
            ]);
        };

        // ê´€ë¦¬ì ì„¤ì • íŒ¨ë„ ì»´í¬ë„ŒíŠ¸
        const renderAdminView = () => {
            const [activeAdminTab, setActiveAdminTab] = React.useState('settings'); // settings, experts, statistics
            const [tempSettings, setTempSettings] = React.useState({...systemSettings});
            const [isSaving, setIsSaving] = React.useState(false);
            
            // ì „ë¬¸ê°€ ìŠ¹ì¸ ëŒ€ê¸° ëª©ë¡ (ëª©ì—…)
            const [pendingExperts] = React.useState([
                {
                    id: 1,
                    name: 'ì´ì „ë¬¸ê°€',
                    email: 'expert@company.com',
                    company: 'ì‚¼ì„±ì „ì',
                    position: 'ì„ ì„ì—°êµ¬ì›',
                    industry: 'tech_development',
                    verification_type: 'employment_certificate',
                    created_at: '2025-08-29T09:00:00'
                }
            ]);

            // ì‹œìŠ¤í…œ ì„¤ì • ì €ì¥
            const saveSystemSettings = async () => {
                setIsSaving(true);
                try {
                    // ì‹¤ì œ êµ¬í˜„ ì‹œ Supabaseì— ì €ì¥
                    // const updates = [
                    //     { setting_key: 'platform_commission_rate', setting_value: tempSettings.commissionRate.toString() },
                    //     { setting_key: 'consultation_time_units', setting_value: JSON.stringify(tempSettings.availableTimeUnits) }
                    // ];
                    
                    // for (const update of updates) {
                    //     await supabaseClient
                    //         .from('system_settings')
                    //         .update({ setting_value: update.setting_value })
                    //         .eq('setting_key', update.setting_key);
                    // }

                    setSystemSettings(tempSettings);
                    alert('ì‹œìŠ¤í…œ ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
                } catch (error) {
                    console.error('Settings save error:', error);
                    alert('ì„¤ì • ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
                } finally {
                    setIsSaving(false);
                }
            };

            const renderAdminTabButton = (tab, label, icon) => {
                return React.createElement('button', {
                    key: tab,
                    className: `px-4 py-2 rounded-lg font-medium transition-colors ${
                        activeAdminTab === tab 
                            ? 'bg-red-500 text-white' 
                            : 'text-gray-600 hover:bg-gray-100'
                    }`,
                    onClick: () => setActiveAdminTab(tab)
                }, `${icon} ${label}`);
            };

            return React.createElement('div', {
                className: 'min-h-screen bg-gradient-to-br from-red-50 to-orange-50'
            }, [
                // í—¤ë”
                React.createElement('header', {
                    key: 'admin-header',
                    className: 'bg-white shadow-sm border-b border-red-200'
                }, React.createElement('div', {
                    className: 'max-w-7xl mx-auto px-4 py-6'
                }, [
                    React.createElement('div', {
                        key: 'header-content',
                        className: 'flex items-center justify-between'
                    }, [
                        React.createElement('button', {
                            key: 'back-btn',
                            className: 'text-gray-600 hover:text-gray-800 text-lg',
                            onClick: () => setCurrentView('home')
                        }, 'â† í™ˆìœ¼ë¡œ'),
                        React.createElement('h1', {
                            key: 'admin-title',
                            className: 'text-2xl font-bold text-red-900'
                        }, 'ğŸ”§ ê´€ë¦¬ì íŒ¨ë„'),
                        React.createElement('div', {
                            key: 'user-info',
                            className: 'text-sm text-gray-600'
                        }, `${currentUser?.user_metadata?.nickname || 'ê´€ë¦¬ì'} (${userRole})`)
                    ])
                ])),

                // ë©”ì¸ ì»¨í…ì¸ 
                React.createElement('main', {
                    key: 'admin-main',
                    className: 'max-w-6xl mx-auto px-4 py-8'
                }, [
                    // íƒ­ ë„¤ë¹„ê²Œì´ì…˜
                    React.createElement('div', {
                        key: 'admin-tabs',
                        className: 'flex space-x-2 mb-6'
                    }, [
                        renderAdminTabButton('settings', 'ì‹œìŠ¤í…œì„¤ì •', 'âš™ï¸'),
                        renderAdminTabButton('experts', 'ì „ë¬¸ê°€ìŠ¹ì¸', 'ğŸ‘¨â€ğŸ’¼'),
                        renderAdminTabButton('statistics', 'í†µê³„', 'ğŸ“Š')
                    ]),

                    // ì‹œìŠ¤í…œ ì„¤ì • íƒ­
                    activeAdminTab === 'settings' ? React.createElement('div', {
                        key: 'settings-content',
                        className: 'card'
                    }, [
                        React.createElement('h3', {
                            key: 'settings-title',
                            className: 'text-xl font-bold text-gray-800 mb-6'
                        }, 'âš™ï¸ ì‹œìŠ¤í…œ ì„¤ì •'),
                        
                        React.createElement('div', {
                            key: 'settings-form',
                            className: 'space-y-6'
                        }, [
                            // ìˆ˜ìˆ˜ë£Œìœ¨ ì„¤ì •
                            React.createElement('div', {
                                key: 'commission-group'
                            }, [
                                React.createElement('label', {
                                    key: 'commission-label',
                                    className: 'block text-sm font-medium text-gray-700 mb-2'
                                }, 'í”Œë«í¼ ìˆ˜ìˆ˜ë£Œìœ¨ (%)'),
                                React.createElement('div', {
                                    key: 'commission-input-group',
                                    className: 'flex items-center space-x-3'
                                }, [
                                    React.createElement('input', {
                                        key: 'commission-input',
                                        type: 'number',
                                        min: '5',
                                        max: '50',
                                        step: '1',
                                        value: Math.round(tempSettings.commissionRate * 100),
                                        onChange: (e) => setTempSettings({
                                            ...tempSettings, 
                                            commissionRate: parseFloat(e.target.value) / 100
                                        }),
                                        className: 'w-24 px-3 py-2 border border-gray-300 rounded-lg'
                                    }),
                                    React.createElement('span', {
                                        key: 'commission-unit',
                                        className: 'text-gray-600'
                                    }, '%'),
                                    React.createElement('div', {
                                        key: 'commission-preview',
                                        className: 'text-sm text-gray-500'
                                    }, `ì˜ˆì‹œ: 10ë§Œì› ìƒë‹´ â†’ í”Œë«í¼ ${Math.round(100000 * tempSettings.commissionRate).toLocaleString()}ì›, ì „ë¬¸ê°€ ${Math.round(100000 * (1 - tempSettings.commissionRate)).toLocaleString()}ì›`)
                                ])
                            ]),

                            // ìƒë‹´ ì‹œê°„ ë‹¨ìœ„ ì„¤ì •
                            React.createElement('div', {
                                key: 'time-units-group'
                            }, [
                                React.createElement('label', {
                                    key: 'time-units-label',
                                    className: 'block text-sm font-medium text-gray-700 mb-2'
                                }, 'ìƒë‹´ ì‹œê°„ ë‹¨ìœ„ (ë¶„)'),
                                React.createElement('div', {
                                    key: 'time-units-info',
                                    className: 'text-sm text-gray-600 mb-3'
                                }, 'í˜„ì¬ ì„¤ì •ëœ ì‹œê°„ ë‹¨ìœ„: ' + tempSettings.availableTimeUnits.join(', ') + 'ë¶„'),
                                React.createElement('div', {
                                    key: 'time-units-grid',
                                    className: 'grid grid-cols-6 gap-2'
                                }, [10, 20, 30, 40, 50, 60].map(minutes => 
                                    React.createElement('label', {
                                        key: minutes,
                                        className: 'flex items-center space-x-2 p-2 border border-gray-300 rounded cursor-pointer hover:bg-gray-50'
                                    }, [
                                        React.createElement('input', {
                                            key: 'checkbox',
                                            type: 'checkbox',
                                            checked: tempSettings.availableTimeUnits.includes(minutes),
                                            onChange: (e) => {
                                                const newUnits = e.target.checked 
                                                    ? [...tempSettings.availableTimeUnits, minutes].sort((a, b) => a - b)
                                                    : tempSettings.availableTimeUnits.filter(unit => unit !== minutes);
                                                setTempSettings({...tempSettings, availableTimeUnits: newUnits});
                                            }
                                        }),
                                        React.createElement('span', {
                                            key: 'label',
                                            className: 'text-sm'
                                        }, `${minutes}ë¶„`)
                                    ])
                                ))
                            ]),

                            // ì €ì¥ ë²„íŠ¼
                            React.createElement('div', {
                                key: 'save-actions',
                                className: 'flex justify-end space-x-3 pt-4 border-t'
                            }, [
                                React.createElement('button', {
                                    key: 'reset-btn',
                                    className: 'px-6 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50',
                                    onClick: () => setTempSettings({...systemSettings})
                                }, 'ì´ˆê¸°í™”'),
                                React.createElement('button', {
                                    key: 'save-btn',
                                    className: 'btn-primary',
                                    onClick: saveSystemSettings,
                                    disabled: isSaving
                                }, isSaving ? 'ì €ì¥ì¤‘...' : 'ğŸ’¾ ì„¤ì • ì €ì¥')
                            ])
                        ])
                    ]) : null,

                    // ì „ë¬¸ê°€ ìŠ¹ì¸ íƒ­
                    activeAdminTab === 'experts' ? React.createElement('div', {
                        key: 'experts-content',
                        className: 'card'
                    }, [
                        React.createElement('h3', {
                            key: 'experts-title',
                            className: 'text-xl font-bold text-gray-800 mb-4'
                        }, 'ğŸ‘¨â€ğŸ’¼ ì „ë¬¸ê°€ ìŠ¹ì¸ ê´€ë¦¬'),
                        
                        pendingExperts.length === 0 ? 
                            React.createElement('div', {
                                key: 'no-pending',
                                className: 'text-center py-12 text-gray-500'
                            }, [
                                React.createElement('div', {
                                    key: 'icon',
                                    className: 'text-4xl mb-4'
                                }, 'âœ…'),
                                React.createElement('p', {
                                    key: 'text'
                                }, 'ìŠ¹ì¸ ëŒ€ê¸° ì¤‘ì¸ ì „ë¬¸ê°€ê°€ ì—†ìŠµë‹ˆë‹¤.')
                            ]) :
                            React.createElement('div', {
                                key: 'experts-list',
                                className: 'space-y-4'
                            }, pendingExperts.map(expert => 
                                React.createElement('div', {
                                    key: expert.id,
                                    className: 'border border-gray-200 rounded-lg p-4'
                                }, [
                                    React.createElement('div', {
                                        key: 'expert-header',
                                        className: 'flex justify-between items-start mb-4'
                                    }, [
                                        React.createElement('div', {
                                            key: 'info'
                                        }, [
                                            React.createElement('h4', {
                                                key: 'name',
                                                className: 'font-bold text-lg text-gray-800'
                                            }, expert.name),
                                            React.createElement('p', {
                                                key: 'position',
                                                className: 'text-gray-600'
                                            }, `${expert.company} â€¢ ${expert.position}`),
                                            React.createElement('p', {
                                                key: 'email',
                                                className: 'text-sm text-gray-500'
                                            }, expert.email)
                                        ]),
                                        React.createElement('div', {
                                            key: 'date',
                                            className: 'text-sm text-gray-500'
                                        }, new Date(expert.created_at).toLocaleDateString())
                                    ]),
                                    
                                    React.createElement('div', {
                                        key: 'expert-actions',
                                        className: 'flex space-x-3'
                                    }, [
                                        React.createElement('button', {
                                            key: 'approve-btn',
                                            className: 'btn-primary',
                                            onClick: () => alert(`${expert.name} ì „ë¬¸ê°€ ìŠ¹ì¸ ê¸°ëŠ¥ ê°œë°œ ì˜ˆì •!`)
                                        }, 'âœ… ìŠ¹ì¸'),
                                        React.createElement('button', {
                                            key: 'reject-btn',
                                            className: 'px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600',
                                            onClick: () => alert(`${expert.name} ì „ë¬¸ê°€ ê±°ì ˆ ê¸°ëŠ¥ ê°œë°œ ì˜ˆì •!`)
                                        }, 'âŒ ê±°ì ˆ'),
                                        React.createElement('button', {
                                            key: 'detail-btn',
                                            className: 'px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50',
                                            onClick: () => alert(`${expert.name} ì „ë¬¸ê°€ ìƒì„¸ì •ë³´ ë³´ê¸° ê°œë°œ ì˜ˆì •!`)
                                        }, 'ğŸ“‹ ìƒì„¸ë³´ê¸°')
                                    ])
                                ])
                            ))
                    ]) : null,

                    // í†µê³„ íƒ­
                    activeAdminTab === 'statistics' ? React.createElement('div', {
                        key: 'statistics-content',
                        className: 'space-y-6'
                    }, [
                        // í†µê³„ ì¹´ë“œë“¤
                        React.createElement('div', {
                            key: 'stats-grid',
                            className: 'grid md:grid-cols-4 gap-6'
                        }, [
                            React.createElement('div', {
                                key: 'users-stat',
                                className: 'card text-center'
                            }, [
                                React.createElement('div', {
                                    key: 'icon',
                                    className: 'text-3xl mb-2'
                                }, 'ğŸ‘¥'),
                                React.createElement('h3', {
                                    key: 'number',
                                    className: 'text-2xl font-bold text-gray-800'
                                }, '1,234'),
                                React.createElement('p', {
                                    key: 'label',
                                    className: 'text-gray-600'
                                }, 'ì´ íšŒì›ìˆ˜')
                            ]),
                            React.createElement('div', {
                                key: 'experts-stat',
                                className: 'card text-center'
                            }, [
                                React.createElement('div', {
                                    key: 'icon',
                                    className: 'text-3xl mb-2'
                                }, 'ğŸ‘¨â€ğŸ’¼'),
                                React.createElement('h3', {
                                    key: 'number',
                                    className: 'text-2xl font-bold text-gray-800'
                                }, '89'),
                                React.createElement('p', {
                                    key: 'label',
                                    className: 'text-gray-600'
                                }, 'í™œì„± ì „ë¬¸ê°€')
                            ]),
                            React.createElement('div', {
                                key: 'consultations-stat',
                                className: 'card text-center'
                            }, [
                                React.createElement('div', {
                                    key: 'icon',
                                    className: 'text-3xl mb-2'
                                }, 'ğŸ’¼'),
                                React.createElement('h3', {
                                    key: 'number',
                                    className: 'text-2xl font-bold text-gray-800'
                                }, '456'),
                                React.createElement('p', {
                                    key: 'label',
                                    className: 'text-gray-600'
                                }, 'ì´ë²ˆë‹¬ ìƒë‹´')
                            ]),
                            React.createElement('div', {
                                key: 'revenue-stat',
                                className: 'card text-center'
                            }, [
                                React.createElement('div', {
                                    key: 'icon',
                                    className: 'text-3xl mb-2'
                                }, 'ğŸ’°'),
                                React.createElement('h3', {
                                    key: 'number',
                                    className: 'text-2xl font-bold text-gray-800'
                                }, '2.1M'),
                                React.createElement('p', {
                                    key: 'label',
                                    className: 'text-gray-600'
                                }, 'ì›”ê°„ ìˆ˜ìˆ˜ë£Œ (ì›)')
                            ])
                        ]),

                        React.createElement('div', {
                            key: 'chart-placeholder',
                            className: 'card text-center py-12'
                        }, [
                            React.createElement('div', {
                                key: 'icon',
                                className: 'text-4xl mb-4'
                            }, 'ğŸ“ˆ'),
                            React.createElement('h3', {
                                key: 'title',
                                className: 'text-lg font-semibold text-gray-800 mb-2'
                            }, 'ìƒì„¸ í†µê³„ ì°¨íŠ¸'),
                            React.createElement('p', {
                                key: 'desc',
                                className: 'text-gray-600'
                            }, 'ì›”ë³„ ë§¤ì¶œ, ì‚¬ìš©ì ì¦ê°€ ì¶”ì´ ë“± ìƒì„¸ í†µê³„ ì°¨íŠ¸ ê°œë°œ ì˜ˆì •')
                        ])
                    ]) : null
                ])
            ]);
        };

        // ê³„ì‚°ê¸° 1ë‹¨ê³„: ê¸°ë³¸ì •ë³´ ë Œë”ë§
        const renderStep1BasicInfo = (data, updateFn) => {
            return React.createElement('div', {
                className: 'card max-w-2xl mx-auto'
            }, [
                React.createElement('h3', {
                    key: 'title',
                    className: 'text-2xl font-bold text-gray-800 mb-6 text-center'
                }, 'ğŸ“‹ 1ë‹¨ê³„: ê¸°ë³¸ ì •ë³´'),
                
                React.createElement('div', {
                    key: 'form',
                    className: 'space-y-4'
                }, [
                    // ë‚˜ì´ ì…ë ¥
                    React.createElement('div', {
                        key: 'age-group'
                    }, [
                        React.createElement('label', {
                            key: 'age-label',
                            className: 'block text-sm font-medium text-gray-700 mb-2'
                        }, 'ë‚˜ì´'),
                        React.createElement('input', {
                            key: 'age-input',
                            type: 'number',
                            value: data?.age || '',
                            onChange: (e) => updateFn(1, 'age', parseInt(e.target.value) || null),
                            className: 'w-full px-4 py-3 border border-gray-300 rounded-lg text-base',
                            placeholder: 'ë§Œ ë‚˜ì´ë¥¼ ì…ë ¥í•˜ì„¸ìš”'
                        })
                    ]),
                    
                    // í•™ë ¥ ì„ íƒ
                    React.createElement('div', {
                        key: 'education-group'
                    }, [
                        React.createElement('label', {
                            key: 'education-label',
                            className: 'block text-sm font-medium text-gray-700 mb-2'
                        }, 'ìµœì¢… í•™ë ¥'),
                        React.createElement('select', {
                            key: 'education-select',
                            value: data?.education || '',
                            onChange: (e) => updateFn(1, 'education', e.target.value),
                            className: 'w-full px-4 py-3 border border-gray-300 rounded-lg text-base'
                        }, [
                            React.createElement('option', { key: 'edu-empty', value: '' }, 'ì„ íƒí•˜ì„¸ìš”'),
                            React.createElement('option', { key: 'edu-high', value: 'high_school' }, 'ê³ ë“±í•™êµ ì¡¸ì—…'),
                            React.createElement('option', { key: 'edu-college', value: 'college' }, 'ì „ë¬¸ëŒ€ ì¡¸ì—…'),
                            React.createElement('option', { key: 'edu-university', value: 'university' }, 'ëŒ€í•™êµ ì¡¸ì—…'),
                            React.createElement('option', { key: 'edu-graduate', value: 'graduate' }, 'ëŒ€í•™ì› ì¡¸ì—…')
                        ])
                    ]),
                    
                    // í¬ë§ ì§ë¬´
                    React.createElement('div', {
                        key: 'target-job-group'
                    }, [
                        React.createElement('label', {
                            key: 'target-job-label',
                            className: 'block text-sm font-medium text-gray-700 mb-2'
                        }, 'í¬ë§ ì§ë¬´'),
                        React.createElement('select', {
                            key: 'target-job-select',
                            value: data?.targetJob || '',
                            onChange: (e) => updateFn(1, 'targetJob', e.target.value),
                            className: 'w-full px-4 py-3 border border-gray-300 rounded-lg text-base'
                        }, [
                            React.createElement('option', { key: 'job-empty', value: '' }, 'ì„ íƒí•˜ì„¸ìš”'),
                            React.createElement('option', { key: 'job-dev', value: 'developer' }, 'ê°œë°œì'),
                            React.createElement('option', { key: 'job-designer', value: 'designer' }, 'ë””ìì´ë„ˆ'),
                            React.createElement('option', { key: 'job-pm', value: 'product_manager' }, 'ê¸°íšì/PM'),
                            React.createElement('option', { key: 'job-marketing', value: 'marketing' }, 'ë§ˆì¼€íŒ…'),
                            React.createElement('option', { key: 'job-sales', value: 'sales' }, 'ì˜ì—…'),
                            React.createElement('option', { key: 'job-finance', value: 'finance' }, 'ê²½ì˜/ì¬ë¬´'),
                            React.createElement('option', { key: 'job-hr', value: 'hr' }, 'ì¸ì‚¬'),
                            React.createElement('option', { key: 'job-other', value: 'other' }, 'ê¸°íƒ€')
                        ])
                    ])
                ])
            ]);
        };

        // ê³„ì‚°ê¸° 2ë‹¨ê³„: ìŠ¤í‚¬/ìê²©ì¦ ë Œë”ë§
        const renderStep2Skills = (data, updateFn) => {
            return React.createElement('div', {
                className: 'card max-w-2xl mx-auto'
            }, [
                React.createElement('h3', {
                    key: 'title',
                    className: 'text-2xl font-bold text-gray-800 mb-6 text-center'
                }, 'ğŸ› ï¸ 2ë‹¨ê³„: ìŠ¤í‚¬ & ìê²©ì¦'),
                
                React.createElement('div', {
                    key: 'form',
                    className: 'space-y-6'
                }, [
                    // ê¸°ìˆ  ìŠ¤íƒ
                    React.createElement('div', {
                        key: 'tech-skills-group'
                    }, [
                        React.createElement('label', {
                            key: 'tech-label',
                            className: 'block text-sm font-medium text-gray-700 mb-3'
                        }, 'ë³´ìœ  ê¸°ìˆ  ìŠ¤íƒ (ë³µìˆ˜ ì„ íƒ ê°€ëŠ¥)'),
                        React.createElement('div', {
                            key: 'tech-grid',
                            className: 'grid grid-cols-2 sm:grid-cols-3 gap-2'
                        }, [
                            'JavaScript', 'Python', 'Java', 'React', 'Vue.js', 'Node.js', 
                            'HTML/CSS', 'SQL', 'Git', 'Figma', 'Photoshop', 'ê¸°íƒ€'
                        ].map((skill, index) => {
                            const isSelected = (data?.technicalSkills || []).includes(skill);
                            return React.createElement('button', {
                                key: `tech-${index}`,
                                className: `px-3 py-2 rounded-lg text-sm font-medium transition-all ${
                                    isSelected 
                                    ? 'bg-green-500 text-white' 
                                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                                }`,
                                onClick: () => {
                                    const currentSkills = data?.technicalSkills || [];
                                    const newSkills = isSelected 
                                        ? currentSkills.filter(s => s !== skill)
                                        : [...currentSkills, skill];
                                    updateFn(2, 'technicalSkills', newSkills);
                                }
                            }, skill);
                        }))
                    ]),
                    
                    // ì–´í•™ ëŠ¥ë ¥
                    React.createElement('div', {
                        key: 'language-group'
                    }, [
                        React.createElement('label', {
                            key: 'lang-label',
                            className: 'block text-sm font-medium text-gray-700 mb-2'
                        }, 'ì˜ì–´ ëŠ¥ë ¥'),
                        React.createElement('select', {
                            key: 'language-select',
                            value: data?.englishLevel || '',
                            onChange: (e) => updateFn(2, 'englishLevel', e.target.value),
                            className: 'w-full px-4 py-3 border border-gray-300 rounded-lg text-base'
                        }, [
                            React.createElement('option', { key: 'lang-empty', value: '' }, 'ì„ íƒí•˜ì„¸ìš”'),
                            React.createElement('option', { key: 'lang-none', value: 'none' }, 'ì˜ì–´ ì‹¤ë ¥ ì—†ìŒ'),
                            React.createElement('option', { key: 'lang-basic', value: 'basic' }, 'ê¸°ì´ˆ íšŒí™” ê°€ëŠ¥'),
                            React.createElement('option', { key: 'lang-toeic-low', value: 'toeic_low' }, 'TOEIC 600-750'),
                            React.createElement('option', { key: 'lang-toeic-mid', value: 'toeic_mid' }, 'TOEIC 750-900'),
                            React.createElement('option', { key: 'lang-toeic-high', value: 'toeic_high' }, 'TOEIC 900+'),
                            React.createElement('option', { key: 'lang-opic', value: 'opic' }, 'OPIc IH ì´ìƒ'),
                            React.createElement('option', { key: 'lang-native', value: 'native' }, 'ì›ì–´ë¯¼ ìˆ˜ì¤€')
                        ])
                    ]),
                    
                    // ìê²©ì¦ ê°œìˆ˜
                    React.createElement('div', {
                        key: 'cert-group'
                    }, [
                        React.createElement('label', {
                            key: 'cert-label',
                            className: 'block text-sm font-medium text-gray-700 mb-2'
                        }, 'ê´€ë ¨ ìê²©ì¦ ê°œìˆ˜'),
                        React.createElement('input', {
                            key: 'cert-input',
                            type: 'number',
                            value: data?.certificationCount || '',
                            onChange: (e) => updateFn(2, 'certificationCount', parseInt(e.target.value) || 0),
                            className: 'w-full px-4 py-3 border border-gray-300 rounded-lg text-base',
                            placeholder: 'ë³´ìœ í•œ ìê²©ì¦ ê°œìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”',
                            min: '0'
                        })
                    ])
                ])
            ]);
        };

        // ê³„ì‚°ê¸° 3ë‹¨ê³„: ê²½í—˜ ë¶„ì„ ë Œë”ë§
        const renderStep3Experience = (data, updateFn) => {
            return React.createElement('div', {
                className: 'card max-w-2xl mx-auto'
            }, [
                React.createElement('h3', {
                    key: 'title',
                    className: 'text-2xl font-bold text-gray-800 mb-6 text-center'
                }, 'ğŸ’¼ 3ë‹¨ê³„: ê²½í—˜ ë¶„ì„'),
                
                React.createElement('div', {
                    key: 'form',
                    className: 'space-y-6'
                }, [
                    // ì¸í„´ì‹­ ê²½í—˜
                    React.createElement('div', {
                        key: 'internship-group'
                    }, [
                        React.createElement('label', {
                            key: 'internship-label',
                            className: 'block text-sm font-medium text-gray-700 mb-2'
                        }, 'ì¸í„´ì‹­ ê²½í—˜'),
                        React.createElement('select', {
                            key: 'internship-select',
                            value: data?.internshipExperience || '',
                            onChange: (e) => updateFn(3, 'internshipExperience', e.target.value),
                            className: 'w-full px-4 py-3 border border-gray-300 rounded-lg text-base'
                        }, [
                            React.createElement('option', { key: 'intern-empty', value: '' }, 'ì„ íƒí•˜ì„¸ìš”'),
                            React.createElement('option', { key: 'intern-none', value: 'none' }, 'ì¸í„´ì‹­ ê²½í—˜ ì—†ìŒ'),
                            React.createElement('option', { key: 'intern-one', value: 'one' }, '1íšŒ (1-3ê°œì›”)'),
                            React.createElement('option', { key: 'intern-multiple', value: 'multiple' }, '2íšŒ ì´ìƒ'),
                            React.createElement('option', { key: 'intern-long', value: 'long_term' }, 'ì¥ê¸° ì¸í„´ (6ê°œì›”+)')
                        ])
                    ]),
                    
                    // í”„ë¡œì íŠ¸ ê²½í—˜
                    React.createElement('div', {
                        key: 'project-group'
                    }, [
                        React.createElement('label', {
                            key: 'project-label',
                            className: 'block text-sm font-medium text-gray-700 mb-2'
                        }, 'ê°œì¸/íŒ€ í”„ë¡œì íŠ¸ ìˆ˜'),
                        React.createElement('input', {
                            key: 'project-input',
                            type: 'number',
                            value: data?.projectCount || '',
                            onChange: (e) => updateFn(3, 'projectCount', parseInt(e.target.value) || 0),
                            className: 'w-full px-4 py-3 border border-gray-300 rounded-lg text-base',
                            placeholder: 'ì™„ë£Œí•œ í”„ë¡œì íŠ¸ ê°œìˆ˜',
                            min: '0'
                        })
                    ]),
                    
                    // ì•„ë¥´ë°”ì´íŠ¸/ì‹¤ë¬´ ê²½í—˜
                    React.createElement('div', {
                        key: 'work-group'
                    }, [
                        React.createElement('label', {
                            key: 'work-label',
                            className: 'block text-sm font-medium text-gray-700 mb-2'
                        }, 'ê´€ë ¨ ì—…ë¬´ ê²½í—˜ (ê°œì›”)'),
                        React.createElement('input', {
                            key: 'work-input',
                            type: 'number',
                            value: data?.workExperienceMonths || '',
                            onChange: (e) => updateFn(3, 'workExperienceMonths', parseInt(e.target.value) || 0),
                            className: 'w-full px-4 py-3 border border-gray-300 rounded-lg text-base',
                            placeholder: 'ì•„ë¥´ë°”ì´íŠ¸, í”„ë¦¬ëœì„œ ë“± ì—…ë¬´ ê²½í—˜ ê°œì›” ìˆ˜',
                            min: '0'
                        })
                    ]),
                    
                    // ìˆ˜ìƒ ê²½ë ¥
                    React.createElement('div', {
                        key: 'award-group'
                    }, [
                        React.createElement('label', {
                            key: 'award-label',
                            className: 'block text-sm font-medium text-gray-700 mb-2'
                        }, 'ìˆ˜ìƒ ê²½ë ¥'),
                        React.createElement('select', {
                            key: 'award-select',
                            value: data?.awards || '',
                            onChange: (e) => updateFn(3, 'awards', e.target.value),
                            className: 'w-full px-4 py-3 border border-gray-300 rounded-lg text-base'
                        }, [
                            React.createElement('option', { key: 'award-empty', value: '' }, 'ì„ íƒí•˜ì„¸ìš”'),
                            React.createElement('option', { key: 'award-none', value: 'none' }, 'ìˆ˜ìƒ ê²½ë ¥ ì—†ìŒ'),
                            React.createElement('option', { key: 'award-school', value: 'school' }, 'êµë‚´ ìˆ˜ìƒ'),
                            React.createElement('option', { key: 'award-external', value: 'external' }, 'êµì™¸ ëŒ€íšŒ ì…ìƒ'),
                            React.createElement('option', { key: 'award-national', value: 'national' }, 'ì „êµ­ ëŒ€íšŒ ìˆ˜ìƒ'),
                            React.createElement('option', { key: 'award-international', value: 'international' }, 'êµ­ì œ ëŒ€íšŒ ìˆ˜ìƒ')
                        ])
                    ])
                ])
            ]);
        };

        // ê³„ì‚°ê¸° 4ë‹¨ê³„: ë„¤íŠ¸ì›Œí¬ & ì†Œì…œ ë Œë”ë§
        const renderStep4Network = (data, updateFn) => {
            return React.createElement('div', {
                className: 'card max-w-2xl mx-auto'
            }, [
                React.createElement('h3', {
                    key: 'title',
                    className: 'text-2xl font-bold text-gray-800 mb-6 text-center'
                }, 'ğŸ¤ 4ë‹¨ê³„: ë„¤íŠ¸ì›Œí¬ & ì†Œì…œ'),
                
                React.createElement('div', {
                    key: 'form',
                    className: 'space-y-6'
                }, [
                    // LinkedIn ë³´ìœ  ì—¬ë¶€
                    React.createElement('div', {
                        key: 'linkedin-group'
                    }, [
                        React.createElement('label', {
                            key: 'linkedin-label',
                            className: 'block text-sm font-medium text-gray-700 mb-3'
                        }, 'LinkedIn í”„ë¡œí•„'),
                        React.createElement('div', {
                            key: 'linkedin-options',
                            className: 'space-y-2'
                        }, [
                            React.createElement('label', {
                                key: 'linkedin-none',
                                className: 'flex items-center cursor-pointer'
                            }, [
                                React.createElement('input', {
                                    key: 'linkedin-none-radio',
                                    type: 'radio',
                                    name: 'linkedinStatus',
                                    value: 'none',
                                    checked: data?.linkedinStatus === 'none',
                                    onChange: (e) => updateFn(4, 'linkedinStatus', e.target.value),
                                    className: 'mr-2'
                                }),
                                'LinkedIn ì—†ìŒ'
                            ]),
                            React.createElement('label', {
                                key: 'linkedin-basic',
                                className: 'flex items-center cursor-pointer'
                            }, [
                                React.createElement('input', {
                                    key: 'linkedin-basic-radio',
                                    type: 'radio',
                                    name: 'linkedinStatus',
                                    value: 'basic',
                                    checked: data?.linkedinStatus === 'basic',
                                    onChange: (e) => updateFn(4, 'linkedinStatus', e.target.value),
                                    className: 'mr-2'
                                }),
                                'ê¸°ë³¸ í”„ë¡œí•„ë§Œ ìˆìŒ'
                            ]),
                            React.createElement('label', {
                                key: 'linkedin-complete',
                                className: 'flex items-center cursor-pointer'
                            }, [
                                React.createElement('input', {
                                    key: 'linkedin-complete-radio',
                                    type: 'radio',
                                    name: 'linkedinStatus',
                                    value: 'complete',
                                    checked: data?.linkedinStatus === 'complete',
                                    onChange: (e) => updateFn(4, 'linkedinStatus', e.target.value),
                                    className: 'mr-2'
                                }),
                                'ì™„ì „íˆ ì‘ì„±ë¨ (ê²½í—˜, ìŠ¤í‚¬ ë“±)'
                            ])
                        ])
                    ]),
                    
                    // GitHub/í¬íŠ¸í´ë¦¬ì˜¤ ë³´ìœ 
                    React.createElement('div', {
                        key: 'portfolio-group'
                    }, [
                        React.createElement('label', {
                            key: 'portfolio-label',
                            className: 'block text-sm font-medium text-gray-700 mb-3'
                        }, 'ì˜¨ë¼ì¸ í¬íŠ¸í´ë¦¬ì˜¤ (ë³µìˆ˜ ì„ íƒ ê°€ëŠ¥)'),
                        React.createElement('div', {
                            key: 'portfolio-grid',
                            className: 'grid grid-cols-2 gap-2'
                        }, [
                            'GitHub', 'Behance', 'ê°œì¸ ë¸”ë¡œê·¸', 'í¬íŠ¸í´ë¦¬ì˜¤ ì‚¬ì´íŠ¸', 'Notion', 'ê¸°íƒ€'
                        ].map((platform, index) => {
                            const isSelected = (data?.portfolioPlatforms || []).includes(platform);
                            return React.createElement('button', {
                                key: `portfolio-${index}`,
                                className: `px-3 py-2 rounded-lg text-sm font-medium transition-all ${
                                    isSelected 
                                    ? 'bg-blue-500 text-white' 
                                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                                }`,
                                onClick: () => {
                                    const currentPlatforms = data?.portfolioPlatforms || [];
                                    const newPlatforms = isSelected 
                                        ? currentPlatforms.filter(p => p !== platform)
                                        : [...currentPlatforms, platform];
                                    updateFn(4, 'portfolioPlatforms', newPlatforms);
                                }
                            }, platform);
                        }))
                    ]),
                    
                    // ì—…ê³„ ì¸ë§¥ ìˆ˜
                    React.createElement('div', {
                        key: 'network-group'
                    }, [
                        React.createElement('label', {
                            key: 'network-label',
                            className: 'block text-sm font-medium text-gray-700 mb-2'
                        }, 'ì—…ê³„ ì¸ë§¥'),
                        React.createElement('select', {
                            key: 'network-select',
                            value: data?.industryNetwork || '',
                            onChange: (e) => updateFn(4, 'industryNetwork', e.target.value),
                            className: 'w-full px-4 py-3 border border-gray-300 rounded-lg text-base'
                        }, [
                            React.createElement('option', { key: 'network-empty', value: '' }, 'ì„ íƒí•˜ì„¸ìš”'),
                            React.createElement('option', { key: 'network-none', value: 'none' }, 'ì—…ê³„ ì¸ë§¥ ì—†ìŒ'),
                            React.createElement('option', { key: 'network-few', value: 'few' }, '1-3ëª… ì •ë„'),
                            React.createElement('option', { key: 'network-some', value: 'some' }, '4-10ëª…'),
                            React.createElement('option', { key: 'network-many', value: 'many' }, '10ëª… ì´ìƒ'),
                            React.createElement('option', { key: 'network-extensive', value: 'extensive' }, 'ê´‘ë²”ìœ„í•œ ë„¤íŠ¸ì›Œí¬')
                        ])
                    ]),
                    
                    // ì¶”ì²œì„œ ê°€ëŠ¥ì„±
                    React.createElement('div', {
                        key: 'reference-group'
                    }, [
                        React.createElement('label', {
                            key: 'reference-label',
                            className: 'block text-sm font-medium text-gray-700 mb-2'
                        }, 'ì¶”ì²œì„œ ë°›ì„ ìˆ˜ ìˆëŠ” ì‚¬ëŒ'),
                        React.createElement('select', {
                            key: 'reference-select',
                            value: data?.referenceAvailable || '',
                            onChange: (e) => updateFn(4, 'referenceAvailable', e.target.value),
                            className: 'w-full px-4 py-3 border border-gray-300 rounded-lg text-base'
                        }, [
                            React.createElement('option', { key: 'ref-empty', value: '' }, 'ì„ íƒí•˜ì„¸ìš”'),
                            React.createElement('option', { key: 'ref-none', value: 'none' }, 'ì¶”ì²œì„œ ìš”ì²­ ë¶ˆê°€'),
                            React.createElement('option', { key: 'ref-professor', value: 'professor' }, 'êµìˆ˜ë‹˜'),
                            React.createElement('option', { key: 'ref-supervisor', value: 'supervisor' }, 'ì§ì¥ ìƒì‚¬'),
                            React.createElement('option', { key: 'ref-both', value: 'both' }, 'êµìˆ˜ë‹˜ + ì§ì¥ ìƒì‚¬'),
                            React.createElement('option', { key: 'ref-multiple', value: 'multiple' }, 'ì—¬ëŸ¬ëª… ê°€ëŠ¥')
                        ])
                    ])
                ])
            ]);
        };

        // ê³„ì‚°ê¸° 5ë‹¨ê³„: ì·¨ì—… ì¤€ë¹„ í˜„í™© ë Œë”ë§
        const renderStep5Preparation = (data, updateFn) => {
            return React.createElement('div', {
                className: 'card max-w-2xl mx-auto'
            }, [
                React.createElement('h3', {
                    key: 'title',
                    className: 'text-2xl font-bold text-gray-800 mb-6 text-center'
                }, 'ğŸ“ 5ë‹¨ê³„: ì·¨ì—… ì¤€ë¹„ í˜„í™©'),
                
                React.createElement('div', {
                    key: 'form',
                    className: 'space-y-6'
                }, [
                    // ì´ë ¥ì„œ ì™„ì„±ë„
                    React.createElement('div', {
                        key: 'resume-group'
                    }, [
                        React.createElement('label', {
                            key: 'resume-label',
                            className: 'block text-sm font-medium text-gray-700 mb-2'
                        }, 'ì´ë ¥ì„œ ì™„ì„±ë„'),
                        React.createElement('select', {
                            key: 'resume-select',
                            value: data?.resumeStatus || '',
                            onChange: (e) => updateFn(5, 'resumeStatus', e.target.value),
                            className: 'w-full px-4 py-3 border border-gray-300 rounded-lg text-base'
                        }, [
                            React.createElement('option', { key: 'resume-empty', value: '' }, 'ì„ íƒí•˜ì„¸ìš”'),
                            React.createElement('option', { key: 'resume-none', value: 'none' }, 'ì´ë ¥ì„œ ì—†ìŒ'),
                            React.createElement('option', { key: 'resume-draft', value: 'draft' }, 'ì´ˆì•ˆ ì‘ì„± ì¤‘'),
                            React.createElement('option', { key: 'resume-basic', value: 'basic' }, 'ê¸°ë³¸ ì™„ì„±'),
                            React.createElement('option', { key: 'resume-polished', value: 'polished' }, 'ì™„ë²½í•˜ê²Œ ë‹¤ë“¬ì–´ì§'),
                            React.createElement('option', { key: 'resume-expert', value: 'expert' }, 'ì „ë¬¸ê°€ ê²€í†  ì™„ë£Œ')
                        ])
                    ]),
                    
                    // ìê¸°ì†Œê°œì„œ ì¤€ë¹„ë„
                    React.createElement('div', {
                        key: 'coverletter-group'
                    }, [
                        React.createElement('label', {
                            key: 'coverletter-label',
                            className: 'block text-sm font-medium text-gray-700 mb-2'
                        }, 'ìê¸°ì†Œê°œì„œ ì¤€ë¹„ë„'),
                        React.createElement('select', {
                            key: 'coverletter-select',
                            value: data?.coverLetterStatus || '',
                            onChange: (e) => updateFn(5, 'coverLetterStatus', e.target.value),
                            className: 'w-full px-4 py-3 border border-gray-300 rounded-lg text-base'
                        }, [
                            React.createElement('option', { key: 'cover-empty', value: '' }, 'ì„ íƒí•˜ì„¸ìš”'),
                            React.createElement('option', { key: 'cover-none', value: 'none' }, 'ì¤€ë¹„í•˜ì§€ ì•ŠìŒ'),
                            React.createElement('option', { key: 'cover-template', value: 'template' }, 'ê¸°ë³¸ í…œí”Œë¦¿ ì‚¬ìš©'),
                            React.createElement('option', { key: 'cover-customized', value: 'customized' }, 'ê¸°ì—…ë³„ ë§ì¶¤ ì‘ì„±'),
                            React.createElement('option', { key: 'cover-multiple', value: 'multiple' }, 'ì—¬ëŸ¬ ë²„ì „ ì¤€ë¹„'),
                            React.createElement('option', { key: 'cover-expert', value: 'expert' }, 'ì „ë¬¸ê°€ ì²¨ì‚­ ì™„ë£Œ')
                        ])
                    ]),
                    
                    // ë©´ì ‘ ì¤€ë¹„ ìƒíƒœ
                    React.createElement('div', {
                        key: 'interview-group'
                    }, [
                        React.createElement('label', {
                            key: 'interview-label',
                            className: 'block text-sm font-medium text-gray-700 mb-2'
                        }, 'ë©´ì ‘ ì¤€ë¹„ ìƒíƒœ'),
                        React.createElement('select', {
                            key: 'interview-select',
                            value: data?.interviewPreparation || '',
                            onChange: (e) => updateFn(5, 'interviewPreparation', e.target.value),
                            className: 'w-full px-4 py-3 border border-gray-300 rounded-lg text-base'
                        }, [
                            React.createElement('option', { key: 'interview-empty', value: '' }, 'ì„ íƒí•˜ì„¸ìš”'),
                            React.createElement('option', { key: 'interview-none', value: 'none' }, 'ì¤€ë¹„í•˜ì§€ ì•ŠìŒ'),
                            React.createElement('option', { key: 'interview-basic', value: 'basic' }, 'ê¸°ë³¸ ë‹µë³€ ì¤€ë¹„'),
                            React.createElement('option', { key: 'interview-practice', value: 'practice' }, 'ëª¨ì˜ë©´ì ‘ ê²½í—˜'),
                            React.createElement('option', { key: 'interview-multiple', value: 'multiple' }, 'ì—¬ëŸ¬ ë²ˆ ëª¨ì˜ë©´ì ‘'),
                            React.createElement('option', { key: 'interview-professional', value: 'professional' }, 'ì „ë¬¸ ì½”ì¹­ ë°›ìŒ')
                        ])
                    ]),
                    
                    // ì§€ì›í•œ íšŒì‚¬ ìˆ˜
                    React.createElement('div', {
                        key: 'application-group'
                    }, [
                        React.createElement('label', {
                            key: 'application-label',
                            className: 'block text-sm font-medium text-gray-700 mb-2'
                        }, 'ì§€ì›í•œ íšŒì‚¬ ìˆ˜'),
                        React.createElement('input', {
                            key: 'application-input',
                            type: 'number',
                            value: data?.applicationCount || '',
                            onChange: (e) => updateFn(5, 'applicationCount', parseInt(e.target.value) || 0),
                            className: 'w-full px-4 py-3 border border-gray-300 rounded-lg text-base',
                            placeholder: 'í˜„ì¬ê¹Œì§€ ì§€ì›í•œ íšŒì‚¬ ìˆ˜',
                            min: '0'
                        })
                    ]),
                    
                    // ì·¨ì—… ì¤€ë¹„ ê¸°ê°„
                    React.createElement('div', {
                        key: 'preparation-period-group'
                    }, [
                        React.createElement('label', {
                            key: 'preparation-label',
                            className: 'block text-sm font-medium text-gray-700 mb-2'
                        }, 'ì·¨ì—… ì¤€ë¹„ ê¸°ê°„ (ê°œì›”)'),
                        React.createElement('input', {
                            key: 'preparation-input',
                            type: 'number',
                            value: data?.preparationMonths || '',
                            onChange: (e) => updateFn(5, 'preparationMonths', parseInt(e.target.value) || 0),
                            className: 'w-full px-4 py-3 border border-gray-300 rounded-lg text-base',
                            placeholder: 'ë³¸ê²©ì ìœ¼ë¡œ ì·¨ì—…ì¤€ë¹„ë¥¼ ì‹œì‘í•œ ê°œì›” ìˆ˜',
                            min: '0'
                        })
                    ])
                ])
            ]);
        };

        // ì ìˆ˜ ê³„ì‚° ë¡œì§
        const calculateCareerScore = (allData) => {
            let totalScore = 0;
            const breakdown = {};

            // 1ë‹¨ê³„: ê¸°ë³¸ì •ë³´ (10ì )
            let basicScore = 0;
            const step1 = allData.step1 || {};
            if (step1.age >= 20 && step1.age <= 35) basicScore += 3; // ì ì • ì—°ë ¹
            if (step1.education === 'university' || step1.education === 'graduate') basicScore += 4;
            if (step1.targetJob) basicScore += 3;
            breakdown.basic = Math.min(basicScore, 10);

            // 2ë‹¨ê³„: ìŠ¤í‚¬ (25ì )
            let skillScore = 0;
            const step2 = allData.step2 || {};
            skillScore += Math.min((step2.technicalSkills || []).length * 2, 12); // ê¸°ìˆ ìŠ¤íƒ
            if (step2.englishLevel === 'toeic_high' || step2.englishLevel === 'native') skillScore += 8;
            else if (step2.englishLevel === 'toeic_mid' || step2.englishLevel === 'opic') skillScore += 5;
            else if (step2.englishLevel === 'toeic_low' || step2.englishLevel === 'basic') skillScore += 2;
            skillScore += Math.min((step2.certificationCount || 0) * 1, 5); // ìê²©ì¦
            breakdown.skills = Math.min(skillScore, 25);

            // 3ë‹¨ê³„: ê²½í—˜ (25ì )
            let expScore = 0;
            const step3 = allData.step3 || {};
            if (step3.internshipExperience === 'long_term') expScore += 10;
            else if (step3.internshipExperience === 'multiple') expScore += 8;
            else if (step3.internshipExperience === 'one') expScore += 5;
            expScore += Math.min((step3.projectCount || 0) * 2, 8); // í”„ë¡œì íŠ¸
            expScore += Math.min((step3.workExperienceMonths || 0) * 0.3, 5); // ì—…ë¬´ê²½í—˜
            if (step3.awards === 'international') expScore += 8;
            else if (step3.awards === 'national') expScore += 6;
            else if (step3.awards === 'external') expScore += 4;
            else if (step3.awards === 'school') expScore += 2;
            breakdown.experience = Math.min(expScore, 25);

            // 4ë‹¨ê³„: ë„¤íŠ¸ì›Œí¬ (15ì )
            let networkScore = 0;
            const step4 = allData.step4 || {};
            if (step4.linkedinStatus === 'complete') networkScore += 5;
            else if (step4.linkedinStatus === 'basic') networkScore += 2;
            networkScore += Math.min((step4.portfolioPlatforms || []).length * 1, 4); // í¬íŠ¸í´ë¦¬ì˜¤
            if (step4.industryNetwork === 'extensive') networkScore += 4;
            else if (step4.industryNetwork === 'many') networkScore += 3;
            else if (step4.industryNetwork === 'some') networkScore += 2;
            else if (step4.industryNetwork === 'few') networkScore += 1;
            if (step4.referenceAvailable === 'multiple') networkScore += 3;
            else if (step4.referenceAvailable === 'both') networkScore += 2;
            else if (step4.referenceAvailable === 'supervisor' || step4.referenceAvailable === 'professor') networkScore += 1;
            breakdown.network = Math.min(networkScore, 15);

            // 5ë‹¨ê³„: ì¤€ë¹„ë„ (25ì )
            let prepScore = 0;
            const step5 = allData.step5 || {};
            if (step5.resumeStatus === 'expert') prepScore += 8;
            else if (step5.resumeStatus === 'polished') prepScore += 6;
            else if (step5.resumeStatus === 'basic') prepScore += 4;
            else if (step5.resumeStatus === 'draft') prepScore += 2;
            
            if (step5.coverLetterStatus === 'expert') prepScore += 6;
            else if (step5.coverLetterStatus === 'multiple') prepScore += 5;
            else if (step5.coverLetterStatus === 'customized') prepScore += 4;
            else if (step5.coverLetterStatus === 'template') prepScore += 2;
            
            if (step5.interviewPreparation === 'professional') prepScore += 6;
            else if (step5.interviewPreparation === 'multiple') prepScore += 4;
            else if (step5.interviewPreparation === 'practice') prepScore += 3;
            else if (step5.interviewPreparation === 'basic') prepScore += 1;
            
            prepScore += Math.min((step5.applicationCount || 0) * 0.2, 3); // ì§€ì› ìˆ˜
            prepScore += Math.min((step5.preparationMonths || 0) * 0.5, 2); // ì¤€ë¹„ê¸°ê°„
            breakdown.preparation = Math.min(prepScore, 25);

            // ì´ì  ê³„ì‚°
            totalScore = breakdown.basic + breakdown.skills + breakdown.experience + breakdown.network + breakdown.preparation;

            // ë“±ê¸‰ ê³„ì‚°
            let grade = '';
            if (totalScore >= 90) grade = 'Sê¸‰ (ìµœìƒìœ„ 1%)';
            else if (totalScore >= 80) grade = 'Aê¸‰ (ìƒìœ„ 10%)';
            else if (totalScore >= 70) grade = 'Bê¸‰ (ìƒìœ„ 30%)';
            else if (totalScore >= 60) grade = 'Cê¸‰ (ìƒìœ„ 50%)';
            else if (totalScore >= 50) grade = 'Dê¸‰ (ìƒìœ„ 70%)';
            else grade = 'Fê¸‰ (í•˜ìœ„ 30%)';

            return {
                totalScore: Math.round(totalScore),
                breakdown,
                grade,
                maxScore: 100
            };
        };

        // ê³„ì‚° ê²°ê³¼ ì €ì¥ í•¨ìˆ˜
        const saveCalculationResult = async (resultData) => {
            try {
                if (isAuthenticated) {
                    // ì¸ì¦ëœ ì‚¬ìš©ì: Supabaseì— ì €ì¥
                    const { error } = await supabaseClient
                        .from('career_calculations')
                        .insert({
                            user_id: currentUser.id,
                            step1_basic_info: calculatorData.step1 || {},
                            step2_skills: calculatorData.step2 || {},
                            step3_experience: calculatorData.step3 || {},
                            step4_network: calculatorData.step4 || {},
                            step5_preparation: calculatorData.step5 || {},
                            total_score: resultData.totalScore,
                            grade: resultData.grade,
                            breakdown: resultData.breakdown
                        });
                        
                    if (error) throw error;
                    alert('âœ… ì§„ë‹¨ ê²°ê³¼ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
                } else {
                    // ê²ŒìŠ¤íŠ¸ ì‚¬ìš©ì: ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
                    const guestResult = {
                        calculatorData,
                        result: resultData,
                        timestamp: new Date().toISOString()
                    };
                    localStorage.setItem('career_calculation_guest', JSON.stringify(guestResult));
                    
                    if (confirm('ì§„ë‹¨ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! íšŒì›ê°€ì…í•˜ì‹œë©´ ê²°ê³¼ë¥¼ ì˜êµ¬ì ìœ¼ë¡œ ì €ì¥í•˜ê³  ë‹¤ë¥¸ ê¸°ëŠ¥ë„ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íšŒì›ê°€ì… í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                        setCurrentView('auth');
                        setAuthMode('signup');
                    }
                }
            } catch (error) {
                console.error('Save error:', error);
                alert(`ì €ì¥ ì‹¤íŒ¨: ${error.message}`);
            }
        };

        // 6ë‹¨ê³„: ê²°ê³¼ í™”ë©´ ë Œë”ë§
        const renderStep6Results = () => {
            const result = calculateCareerScore(calculatorData);
            
            return React.createElement('div', {
                className: 'max-w-4xl mx-auto space-y-6'
            }, [
                // ë©”ì¸ ê²°ê³¼ ì¹´ë“œ
                React.createElement('div', {
                    key: 'main-result',
                    className: 'card bg-gradient-to-r from-green-50 to-blue-50'
                }, [
                    React.createElement('div', {
                        key: 'result-header',
                        className: 'text-center mb-8'
                    }, [
                        React.createElement('h2', {
                            key: 'title',
                            className: 'text-3xl font-bold text-gray-800 mb-4'
                        }, 'ğŸ¯ ì·¨ì—…ê²½ìŸë ¥ ì§„ë‹¨ ê²°ê³¼'),
                        
                        React.createElement('div', {
                            key: 'score-display',
                            className: 'flex justify-center items-center mb-6'
                        }, [
                            React.createElement('div', {
                                key: 'score-circle',
                                className: 'w-32 h-32 rounded-full border-8 border-green-200 flex items-center justify-center bg-white shadow-lg'
                            }, [
                                React.createElement('div', {
                                    key: 'score-content',
                                    className: 'text-center'
                                }, [
                                    React.createElement('div', {
                                        key: 'score-number',
                                        className: 'text-4xl font-bold text-green-600'
                                    }, result.totalScore),
                                    React.createElement('div', {
                                        key: 'score-max',
                                        className: 'text-sm text-gray-500'
                                    }, '/ 100')
                                ])
                            ])
                        ]),
                        
                        React.createElement('div', {
                            key: 'grade',
                            className: 'text-2xl font-bold text-blue-600 mb-6'
                        }, result.grade)
                    ])
                ]),
                
                // ìƒì„¸ ë¶„ì„ ì°¨íŠ¸
                React.createElement('div', {
                    key: 'detailed-analysis',
                    className: 'card'
                }, [
                    React.createElement('h3', {
                        key: 'analysis-title',
                        className: 'text-xl font-bold text-gray-800 mb-6 text-center'
                    }, 'ğŸ“Š ì˜ì—­ë³„ ìƒì„¸ ë¶„ì„'),
                    
                    React.createElement('div', {
                        key: 'breakdown-bars',
                        className: 'space-y-4'
                    }, [
                        {label: 'ğŸ“‹ ê¸°ë³¸ì •ë³´', key: 'basic', max: 10},
                        {label: 'ğŸ› ï¸ ìŠ¤í‚¬/ìê²©ì¦', key: 'skills', max: 25},
                        {label: 'ğŸ’¼ ê²½í—˜', key: 'experience', max: 25},
                        {label: 'ğŸ¤ ë„¤íŠ¸ì›Œí¬', key: 'network', max: 15},
                        {label: 'ğŸ“ ì¤€ë¹„ë„', key: 'preparation', max: 25}
                    ].map((item) => {
                        const score = result.breakdown[item.key] || 0;
                        const percentage = (score / item.max) * 100;
                        return React.createElement('div', {
                            key: item.key,
                            className: 'mb-4'
                        }, [
                            React.createElement('div', {
                                key: 'label',
                                className: 'flex justify-between mb-2'
                            }, [
                                React.createElement('span', {
                                    key: 'name',
                                    className: 'font-medium text-gray-700'
                                }, item.label),
                                React.createElement('span', {
                                    key: 'score',
                                    className: 'font-bold text-blue-600'
                                }, `${score}/${item.max}ì `)
                            ]),
                            React.createElement('div', {
                                key: 'bar-container',
                                className: 'w-full bg-gray-200 rounded-full h-4'
                            }, [
                                React.createElement('div', {
                                    key: 'bar-fill',
                                    className: 'bg-gradient-to-r from-green-400 to-blue-500 h-4 rounded-full transition-all duration-1000',
                                    style: { width: `${percentage}%` }
                                })
                            ])
                        ]);
                    }))
                ]),
                
                // ì•¡ì…˜ ë²„íŠ¼ë“¤
                React.createElement('div', {
                    key: 'action-buttons',
                    className: 'card text-center'
                }, [
                    React.createElement('h3', {
                        key: 'action-title',
                        className: 'text-lg font-semibold text-gray-800 mb-4'
                    }, 'ë‹¤ìŒ ë‹¨ê³„'),
                    
                    React.createElement('div', {
                        key: 'button-grid',
                        className: 'grid grid-cols-1 md:grid-cols-3 gap-4'
                    }, [
                        React.createElement('button', {
                            key: 'save-btn',
                            className: 'btn-primary py-3',
                            onClick: () => saveCalculationResult(result)
                        }, isAuthenticated ? 'ğŸ’¾ ê²°ê³¼ ì €ì¥í•˜ê¸°' : 'ğŸ’¾ ê²°ê³¼ ì €ì¥ (íšŒì›ê°€ì…)'),
                        
                        React.createElement('button', {
                            key: 'community-btn',
                            className: 'btn-secondary py-3',
                            onClick: () => {
                                if (isAuthenticated) {
                                    setCurrentView('community');
                                } else {
                                    alert('ì»¤ë®¤ë‹ˆí‹°ëŠ” íšŒì›ê°€ì… í›„ ì´ìš©ê°€ëŠ¥í•©ë‹ˆë‹¤!');
                                    setCurrentView('auth');
                                }
                            }
                        }, 'ğŸ’¬ ì»¤ë®¤ë‹ˆí‹° ì°¸ì—¬'),
                        
                        React.createElement('button', {
                            key: 'expert-btn',
                            className: 'bg-gradient-to-r from-purple-500 to-pink-500 text-white px-6 py-3 rounded-lg font-medium hover:shadow-lg transition-all',
                            onClick: () => alert('ì „ë¬¸ê°€ ìƒë‹´ ê¸°ëŠ¥ ê°œë°œ ì˜ˆì •! ğŸ‘¨â€ğŸ’¼')
                        }, 'ğŸ‘¨â€ğŸ’¼ ì „ë¬¸ê°€ ìƒë‹´')
                    ])
                ])
            ]);
        };

        // ê³„ì‚°ê¸° ë©”ì¸ ë·° ë Œë”ë§
        const renderCalculatorView = () => {
            const currentStepData = calculatorData[`step${calculatorStep}`] || {};
            
            return React.createElement('div', {
                className: 'min-h-screen bg-gradient-to-br from-green-50 to-blue-50'
            }, [
                // í—¤ë” with ë’¤ë¡œê°€ê¸°
                React.createElement('header', {
                    key: 'calc-header',
                    className: 'bg-white shadow-sm border-b'
                }, React.createElement('div', {
                    className: 'max-w-7xl mx-auto px-4 py-6'
                }, [
                    React.createElement('div', {
                        key: 'header-content',
                        className: 'flex items-center justify-between'
                    }, [
                        React.createElement('button', {
                            key: 'back-btn',
                            className: 'text-gray-600 hover:text-gray-800 text-lg',
                            onClick: () => setCurrentView('home')
                        }, 'â† í™ˆìœ¼ë¡œ'),
                        React.createElement('h1', {
                            key: 'calc-title',
                            className: 'text-2xl font-bold text-gray-900'
                        }, 'ğŸ§® ì·¨ì—…ê²½ìŸë ¥ ì§„ë‹¨'),
                        React.createElement('div', {
                            key: 'step-indicator',
                            className: 'text-sm text-gray-500'
                        }, `${calculatorStep}/6 ë‹¨ê³„`)
                    ])
                ])),
                
                // ë©”ì¸ ê³„ì‚°ê¸° ì»¨í…ì¸ 
                React.createElement('main', {
                    key: 'calc-main',
                    className: 'max-w-4xl mx-auto px-4 py-12'
                }, [
                    // ì§„í–‰ ë°”
                    React.createElement('div', {
                        key: 'progress',
                        className: 'mb-8'
                    }, [
                        React.createElement('div', {
                            key: 'progress-bar',
                            className: 'w-full bg-gray-200 rounded-full h-3'
                        }, [
                            React.createElement('div', {
                                key: 'progress-fill',
                                className: 'bg-green-500 h-3 rounded-full transition-all duration-500',
                                style: { width: `${(calculatorStep / 6) * 100}%` }
                            })
                        ])
                    ]),
                    
                    // ë‹¨ê³„ë³„ í¼ ë Œë”ë§
                    calculatorStep === 1 ? renderStep1BasicInfo(currentStepData, updateCalculatorData) :
                    calculatorStep === 2 ? renderStep2Skills(currentStepData, updateCalculatorData) : 
                    calculatorStep === 3 ? renderStep3Experience(currentStepData, updateCalculatorData) :
                    calculatorStep === 4 ? renderStep4Network(currentStepData, updateCalculatorData) :
                    calculatorStep === 5 ? renderStep5Preparation(currentStepData, updateCalculatorData) :
                    calculatorStep === 6 ? renderStep6Results() :
                    React.createElement('div', {
                        key: 'placeholder',
                        className: 'card max-w-2xl mx-auto text-center'
                    }, [
                        React.createElement('h3', {
                            key: 'title',
                            className: 'text-2xl font-bold text-gray-800 mb-4'
                        }, `${calculatorStep}ë‹¨ê³„ ê°œë°œ ì¤‘...`),
                        React.createElement('p', {
                            key: 'desc',
                            className: 'text-gray-600'
                        }, 'ì´ ë‹¨ê³„ëŠ” ê³§ ê°œë°œë  ì˜ˆì •ì…ë‹ˆë‹¤!')
                    ]),
                    
                    // ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼
                    React.createElement('div', {
                        key: 'nav-buttons',
                        className: 'flex justify-between mt-8 max-w-2xl mx-auto'
                    }, [
                        React.createElement('button', {
                            key: 'prev-btn',
                            className: calculatorStep === 1 ? 'invisible' : 'btn-secondary px-6 py-3',
                            onClick: () => setCalculatorStep(prev => Math.max(1, prev - 1))
                        }, 'ì´ì „'),
                        React.createElement('button', {
                            key: 'next-btn',
                            className: 'btn-primary px-6 py-3',
                            onClick: () => {
                                if (calculatorStep < 6) {
                                    setCalculatorStep(prev => prev + 1);
                                } else {
                                    // ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‹œì‘
                                    setCalculatorStep(1);
                                    setCalculatorData({});
                                }
                            }
                        }, calculatorStep === 6 ? 'ğŸ”„ ë‹¤ì‹œ ì§„ë‹¨í•˜ê¸°' : 'ë‹¤ìŒ')
                    ])
                ])
            ]);
        };

        // ì·¨ì—…ê²½ìŸë ¥ ê³„ì‚° ì•Œê³ ë¦¬ì¦˜
        const calculateCareerScore = (data) => {
            let totalScore = 0;
            let details = {
                basicInfo: 0,
                skills: 0, 
                experience: 0,
                network: 0,
                preparation: 0,
                market: 0
            };

            // 1ë‹¨ê³„: ê¸°ë³¸ì •ë³´ (20ì )
            if (data.step1) {
                let score = 0;
                if (data.step1.age >= 22 && data.step1.age <= 28) score += 5;
                if (data.step1.education === 'university' || data.step1.education === 'graduate') score += 8;
                if (data.step1.major) score += 4;
                if (data.step1.targetIndustry) score += 3;
                details.basicInfo = Math.min(score, 20);
            }

            // 2ë‹¨ê³„: ìŠ¤í‚¬ì—­ëŸ‰ (20ì ) 
            if (data.step2) {
                let score = 0;
                if (data.step2.technicalSkills) score += 8;
                if (data.step2.certifications) score += 4;
                if (data.step2.languages) score += 4;
                if (data.step2.portfolio) score += 4;
                details.skills = Math.min(score, 20);
            }

            // 3ë‹¨ê³„: ê²½í—˜ë¶„ì„ (20ì )
            if (data.step3) {
                let score = 0;
                if (data.step3.internships) score += 8;
                if (data.step3.projects) score += 6;
                if (data.step3.activities) score += 4;
                if (data.step3.awards) score += 2;
                details.experience = Math.min(score, 20);
            }

            // 4ë‹¨ê³„: ë„¤íŠ¸ì›Œí¬ (15ì )
            if (data.step4) {
                let score = 0;
                if (data.step4.connections) score += 6;
                if (data.step4.recommendations) score += 5;
                if (data.step4.mentors) score += 4;
                details.network = Math.min(score, 15);
            }

            // 5ë‹¨ê³„: ì¤€ë¹„í˜„í™© (15ì )
            if (data.step5) {
                let score = 0;
                if (data.step5.resume) score += 5;
                if (data.step5.coverLetter) score += 4;
                if (data.step5.interviewPrep) score += 3;
                if (data.step5.applications) score += 3;
                details.preparation = Math.min(score, 15);
            }

            // 6ë‹¨ê³„: ì‹œì¥ë¶„ì„ (10ì )
            if (data.step6) {
                let score = 0;
                if (data.step6.marketResearch) score += 4;
                if (data.step6.industryTrends) score += 3;
                if (data.step6.competitionAnalysis) score += 3;
                details.market = Math.min(score, 10);
            }

            totalScore = details.basicInfo + details.skills + details.experience + 
                        details.network + details.preparation + details.market;

            // ë“±ê¸‰ ê³„ì‚°
            let grade;
            if (totalScore >= 90) grade = 'Sê¸‰';
            else if (totalScore >= 80) grade = 'Aê¸‰';
            else if (totalScore >= 70) grade = 'Bê¸‰';
            else if (totalScore >= 60) grade = 'Cê¸‰';
            else if (totalScore >= 50) grade = 'Dê¸‰';
            else grade = 'Fê¸‰';

            return {
                totalScore,
                grade,
                details,
                recommendations: generateRecommendations(totalScore, details),
                successRate: Math.min(Math.round(totalScore * 0.8), 95)
            };
        };

        // ê°œì„  ì¶”ì²œì‚¬í•­ ìƒì„±
        const generateRecommendations = (totalScore, details) => {
            const recommendations = [];
            
            if (details.skills < 15) {
                recommendations.push('ê¸°ìˆ  ìŠ¤í‚¬ ê°•í™”ë¥¼ ìœ„í•œ ì˜¨ë¼ì¸ ê°•ì˜ ìˆ˜ê°•ì„ ì¶”ì²œí•©ë‹ˆë‹¤.');
            }
            if (details.experience < 15) {
                recommendations.push('ì¸í„´ì‹­ì´ë‚˜ í”„ë¡œì íŠ¸ ê²½í—˜ì„ ëŠ˜ë ¤ë³´ì„¸ìš”.');
            }
            if (details.network < 10) {
                recommendations.push('ì—…ê³„ ë„¤íŠ¸ì›Œí‚¹ ì´ë²¤íŠ¸ì— ì ê·¹ ì°¸ì—¬í•˜ì„¸ìš”.');
            }
            if (details.preparation < 10) {
                recommendations.push('ì´ë ¥ì„œì™€ ìê¸°ì†Œê°œì„œë¥¼ ì „ë¬¸ì ìœ¼ë¡œ ê²€í† ë°›ì•„ë³´ì„¸ìš”.');
            }
            
            return recommendations;
        };

        // ì¸ì‚¬ì´ë“œì¡ ë©”ì¸ ì•± ì»´í¬ë„ŒíŠ¸
        const InsideJobApp = () => {
            const [isLoading, setIsLoading] = React.useState(true);
            const [connectionStatus, setConnectionStatus] = React.useState('connecting');
            const [currentView, setCurrentView] = React.useState('home');
            const [selectedBooking, setSelectedBooking] = React.useState(null);
            const [authMode, setAuthMode] = React.useState('login'); // login, signup
            const [calculatorStep, setCalculatorStep] = React.useState(1);
            const [calculatorData, setCalculatorData] = React.useState({});
            const [currentUser, setCurrentUser] = React.useState(null);
            const [isAuthenticated, setIsAuthenticated] = React.useState(false);
            
            // ìƒë‹´ ì˜ˆì•½ ì‹œìŠ¤í…œ ìƒíƒœ
            const [consultationDuration, setConsultationDuration] = React.useState(30);
            const [selectedExpert, setSelectedExpert] = React.useState(null);
            const [systemSettings, setSystemSettings] = React.useState({
                commissionRate: 0.20,
                availableTimeUnits: [10, 20, 30, 40, 50, 60]
            });
            
            // ìª½ì§€ ì‹œìŠ¤í…œ ìƒíƒœ
            const [messages, setMessages] = React.useState([]);
            const [selectedMessage, setSelectedMessage] = React.useState(null);
            
            // ì‚¬ìš©ì ì—­í•  ìƒíƒœ
            const [userRole, setUserRole] = React.useState('member'); // admin, member, expert
            const [authMode, setAuthMode] = React.useState('login'); // login, signup
            
            // ì‹œìŠ¤í…œ ì„¤ì • ë¶ˆëŸ¬ì˜¤ê¸°
            const loadSystemSettings = React.useCallback(async () => {
                try {
                    const { data, error } = await supabaseClient
                        .from('system_settings')
                        .select('*');
                    
                    if (!error && data) {
                        const settingsMap = {};
                        data.forEach(setting => {
                            let value = setting.setting_value;
                            if (setting.setting_type === 'number') {
                                value = parseFloat(value);
                            } else if (setting.setting_type === 'boolean') {
                                value = value === 'true';
                            } else if (setting.setting_type === 'json') {
                                try {
                                    value = JSON.parse(value);
                                } catch (e) {
                                    console.warn('JSON íŒŒì‹± ì˜¤ë¥˜:', setting.setting_key);
                                }
                            }
                            settingsMap[setting.setting_key] = value;
                        });
                        
                        setSystemSettings({
                            commissionRate: settingsMap.platform_commission_rate || 0.20,
                            availableTimeUnits: settingsMap.consultation_time_units || [10, 20, 30, 40, 50, 60],
                            minConsultationMinutes: settingsMap.min_consultation_minutes || 10,
                            maxConsultationMinutes: settingsMap.max_consultation_minutes || 60
                        });
                    }
                } catch (error) {
                    console.error('ì‹œìŠ¤í…œ ì„¤ì • ë¡œë”© ì˜¤ë¥˜:', error);
                }
            }, []);
            
            // ì‚¬ìš©ì ì—­í•  í™•ì¸
            const checkUserRole = React.useCallback(async (user) => {
                if (!user) return;
                
                try {
                    const { data, error } = await supabaseClient
                        .from('user_profiles')
                        .select('role')
                        .eq('user_id', user.id)
                        .single();
                    
                    if (!error && data) {
                        setUserRole(data.role || 'member');
                    }
                } catch (error) {
                    console.error('ì‚¬ìš©ì ì—­í•  í™•ì¸ ì˜¤ë¥˜:', error);
                    setUserRole('member');
                }
            }, []);

            // Supabase ì—°ê²° í…ŒìŠ¤íŠ¸
            React.useEffect(() => {
                const testConnection = async () => {
                    try {
                        // ë‹¨ìˆœíˆ Supabase URL ì—°ê²° í™•ì¸
                        if (supabaseClient && SUPABASE_URL && SUPABASE_ANON_KEY) {
                            console.log('âœ… Supabase í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™” ì„±ê³µ!');
                            setConnectionStatus('connected');
                        } else {
                            console.error('Supabase í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™” ì‹¤íŒ¨');
                            setConnectionStatus('error');
                        }
                    } catch (err) {
                        console.error('Connection test failed:', err);
                        setConnectionStatus('error');
                    } finally {
                        setTimeout(() => setIsLoading(false), 1500);
                    }
                };

                testConnection();
            }, []);

            // ê²ŒìŠ¤íŠ¸ ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜
            const migrateGuestData = React.useCallback(async (userId) => {
                try {
                    const guestData = localStorage.getItem('career_calculation_guest');
                    if (guestData) {
                        const parsedData = JSON.parse(guestData);
                        const { error } = await supabaseClient
                            .from('career_calculations')
                            .insert({
                                user_id: userId,
                                step1_basic_info: parsedData.calculatorData.step1 || {},
                                step2_skills: parsedData.calculatorData.step2 || {},
                                step3_experience: parsedData.calculatorData.step3 || {},
                                step4_network: parsedData.calculatorData.step4 || {},
                                step5_preparation: parsedData.calculatorData.step5 || {},
                                total_score: parsedData.result.totalScore,
                                grade: parsedData.result.grade,
                                breakdown: parsedData.result.breakdown,
                                migrated_from_guest: true
                            });
                            
                        if (!error) {
                            localStorage.removeItem('career_calculation_guest');
                            alert('ğŸ‰ ê²ŒìŠ¤íŠ¸ ë°ì´í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ì´ê´€ë˜ì—ˆìŠµë‹ˆë‹¤!');
                        }
                    }
                } catch (error) {
                    console.error('Guest data migration failed:', error);
                }
            }, []);

            // ì‚¬ìš©ì ì¸ì¦ ìƒíƒœ ì²´í¬
            React.useEffect(() => {
                const checkUser = async () => {
                    try {
                        const { data: { user } } = await supabaseClient.auth.getUser();
                        if (user) {
                            setCurrentUser(user);
                            setIsAuthenticated(true);
                            await Promise.all([
                                checkUserRole(user),
                                loadSystemSettings()
                            ]);
                            // ê²ŒìŠ¤íŠ¸ ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜
                            await migrateGuestData(user.id);
                        }
                    } catch (error) {
                        console.error('Auth check error:', error);
                    }
                };

                checkUser();

                // ì¸ì¦ ìƒíƒœ ë³€í™” ê°ì§€
                const { data: { subscription } } = supabaseClient.auth.onAuthStateChange((event, session) => {
                    if (session?.user) {
                        setCurrentUser(session.user);
                        setIsAuthenticated(true);
                        checkUserRole(session.user);
                        loadSystemSettings();
                    } else {
                        setCurrentUser(null);
                        setIsAuthenticated(false);
                    }
                });

                return () => subscription.unsubscribe();
            }, []);

            // ë¡œê·¸ì¸ í•¨ìˆ˜
            const handleLogin = async (email, password) => {
                try {
                    const { data, error } = await supabaseClient.auth.signInWithPassword({
                        email,
                        password
                    });
                    
                    if (error) throw error;
                    
                    alert('ë¡œê·¸ì¸ ì„±ê³µ!');
                    setCurrentView('home');
                } catch (error) {
                    alert(`ë¡œê·¸ì¸ ì‹¤íŒ¨: ${error.message}`);
                }
            };

            // íšŒì›ê°€ì… í•¨ìˆ˜
            const handleSignUp = async (email, password, nickname) => {
                try {
                    const { data, error } = await supabaseClient.auth.signUp({
                        email,
                        password,
                        options: {
                            data: {
                                nickname: nickname
                            }
                        }
                    });
                    
                    if (error) throw error;
                    
                    alert('íšŒì›ê°€ì… ì„±ê³µ! ì´ë©”ì¼ í™•ì¸ í›„ ë¡œê·¸ì¸í•˜ì„¸ìš”.');
                    setAuthMode('login');
                } catch (error) {
                    alert(`íšŒì›ê°€ì… ì‹¤íŒ¨: ${error.message}`);
                }
            };

            // ë¡œê·¸ì•„ì›ƒ í•¨ìˆ˜
            const handleLogout = async () => {
                try {
                    const { error } = await supabaseClient.auth.signOut();
                    if (error) throw error;
                    
                    setCurrentView('home');
                    alert('ë¡œê·¸ì•„ì›ƒë˜ì—ˆìŠµë‹ˆë‹¤.');
                } catch (error) {
                    alert(`ë¡œê·¸ì•„ì›ƒ ì‹¤íŒ¨: ${error.message}`);
                }
            };

            // ê³„ì‚°ê¸° ë°ì´í„° ì—…ë°ì´íŠ¸ (ë©”ëª¨ì´ì œì´ì…˜)
            const updateCalculatorData = React.useCallback((step, field, value) => {
                setCalculatorData(prev => ({
                    ...prev,
                    [`step${step}`]: {
                        ...prev[`step${step}`],
                        [field]: value
                    }
                }));
            }, []);

            // ê²°ê³¼ ìºì‹±
            const calculationResult = React.useMemo(() => {
                if (Object.keys(calculatorData).length > 0) {
                    return calculateCareerScore(calculatorData);
                }
                return null;
            }, [calculatorData]);

            // ë¡œë”© í™”ë©´
            if (isLoading) {
                return React.createElement('div', {
                    className: 'flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-green-50 to-blue-50'
                }, [
                    React.createElement('div', {
                        key: 'spinner',
                        className: 'loading-spinner mb-4'
                    }),
                    React.createElement('div', {
                        key: 'text',
                        className: 'text-xl font-semibold text-gray-700'
                    }, 'ì¸ì‚¬ì´ë“œì¡ ì‹œì‘ ì¤‘...'),
                    React.createElement('div', {
                        key: 'status',
                        className: 'text-sm text-gray-500 mt-2'
                    }, connectionStatus === 'connecting' ? 'Supabase ì—°ê²° ì¤‘...' : 
                       connectionStatus === 'connected' ? 'ì—°ê²° ì™„ë£Œ!' : 'ì—°ê²° ì˜¤ë¥˜')
                ]);
            }

            // í™”ë©´ë³„ ë Œë”ë§ ë¡œì§
            if (currentView === 'calculator') {
                return renderCalculatorView();
            }
            if (currentView === 'community') {
                return renderCommunityView();
            }
            if (currentView === 'mypage') {
                return renderMyPageView();
            }
            if (currentView === 'consultation') {
                return renderConsultationView();
            }
            if (currentView === 'messages') {
                return renderMessagesView();
            }
            if (currentView === 'admin' && userRole === 'admin') {
                return renderAdminView();
            }
            if (currentView === 'consultation-chat') {
                return renderConsultationChatView(selectedBooking);
            }

            // ëœë”© í˜ì´ì§€ ë Œë”ë§ í•¨ìˆ˜
            const renderLandingPage = () => {
                return React.createElement('div', {
                    className: 'min-h-screen bg-gradient-to-br from-green-50 to-blue-50'
                }, [
                    // í—¤ë”
                    React.createElement('header', {
                        key: 'landing-header',
                        className: 'bg-white shadow-sm border-b'
                    }, React.createElement('div', {
                        className: 'max-w-7xl mx-auto px-4 py-6'
                    }, [
                        React.createElement('div', {
                            key: 'header-content',
                            className: 'flex items-center justify-between'
                        }, [
                            React.createElement('div', {
                                key: 'logo-area',
                                className: 'flex items-center space-x-3'
                            }, [
                                React.createElement('div', {
                                    key: 'logo',
                                    className: 'text-4xl'
                                }, 'ğŸ¯'),
                                React.createElement('div', {
                                    key: 'title-area'
                                }, [
                                    React.createElement('h1', {
                                        key: 'title',
                                        className: 'text-2xl font-bold text-gray-900'
                                    }, 'ì¸ì‚¬ì´ë“œì¡'),
                                    React.createElement('p', {
                                        key: 'subtitle',
                                        className: 'text-sm text-gray-500'
                                    }, 'by (ì£¼)ì˜¤í”ˆì»¤ë„¥íŠ¸')
                                ])
                            ]),
                            React.createElement('div', {
                                key: 'header-actions',
                                className: 'flex items-center space-x-4'
                            }, [
                                React.createElement('div', {
                                    key: 'connection-badge',
                                    className: `px-3 py-1 rounded-full text-xs font-medium ${
                                        connectionStatus === 'connected' 
                                        ? 'bg-green-100 text-green-800'
                                        : 'bg-red-100 text-red-800'
                                    }`
                                }, connectionStatus === 'connected' ? 'âœ… ì—°ê²°ë¨' : 'âŒ ì—°ê²° ì˜¤ë¥˜'),
                                
                                React.createElement('button', {
                                    key: 'login-btn',
                                    className: 'btn-primary text-sm px-6 py-2',
                                    onClick: () => setCurrentView('auth')
                                }, 'ë¡œê·¸ì¸ / íšŒì›ê°€ì…')
                            ])
                        ])
                    ])),

                    // ëœë”© ë©”ì¸ ì»¨í…ì¸  (í”Œëœë¹„ ìŠ¤íƒ€ì¼)
                    React.createElement('main', {
                        key: 'landing-main',
                        className: 'max-w-6xl mx-auto px-4 py-8'
                    }, [
                        // ê°„ë‹¨í•œ íˆì–´ë¡œ (í”Œëœë¹„ ìŠ¤íƒ€ì¼)
                        React.createElement('div', {
                            key: 'hero-section',
                            className: 'text-center mb-12'
                        }, [
                            React.createElement('h1', {
                                key: 'hero-title',
                                className: 'text-3xl md:text-4xl font-bold text-gray-900 mb-4'
                            }, 'ğŸ¯ ì¸ì‚¬ì´ë“œì¡'),
                            React.createElement('p', {
                                key: 'hero-subtitle',
                                className: 'text-lg md:text-xl text-gray-600 mb-8'
                            }, 'í˜„ì§ìì™€ êµ¬ì§ìë¥¼ ì—°ê²°í•˜ëŠ” ì·¨ì—… ë©˜í† ë§ í”Œë«í¼')
                        ]),

                        // í•µì‹¬ 3ê°œ ì¹´ë“œ (í”Œëœë¹„ íŒ¨í„´)
                        React.createElement('div', {
                            key: 'main-features',
                            className: 'grid md:grid-cols-3 gap-8 mb-12'
                        }, [
                            // 1. ì·¨ì—…ê²½ìŸë ¥ ê³„ì‚°ê¸° (ë¬´ë£Œ ì‚¬ìš© ê°€ëŠ¥)
                            React.createElement('div', {
                                key: 'calculator-card',
                                className: 'card text-center hover:shadow-xl hover:-translate-y-2 transition-all duration-300 cursor-pointer border-2 border-green-200',
                                onClick: () => setCurrentView('calculator')
                            }, [
                                React.createElement('div', {
                                    key: 'calc-icon',
                                    className: 'text-6xl mb-4'
                                }, 'ğŸ§®'),
                                React.createElement('h3', {
                                    key: 'calc-title',
                                    className: 'text-2xl font-bold text-gray-800 mb-3'
                                }, 'ì·¨ì—…ê²½ìŸë ¥ ì§„ë‹¨'),
                                React.createElement('p', {
                                    key: 'calc-desc',
                                    className: 'text-gray-600 mb-4 leading-relaxed'
                                }, '6ë‹¨ê³„ ì •ë°€ ë¶„ì„ìœ¼ë¡œ í˜„ì¬ ì·¨ì—… ì—­ëŸ‰ì„ ê°ê´€ì ìœ¼ë¡œ í‰ê°€í•©ë‹ˆë‹¤'),
                                React.createElement('div', {
                                    key: 'calc-badge',
                                    className: 'inline-block px-4 py-2 bg-green-100 text-green-700 rounded-full text-sm font-semibold'
                                }, 'ğŸ†“ ë¬´ë£Œ ì´ìš©'),
                                React.createElement('div', {
                                    key: 'calc-cta',
                                    className: 'mt-4 btn-primary w-full py-3'
                                }, 'ì§€ê¸ˆ ì§„ë‹¨í•˜ê¸°')
                            ]),

                            // 2. êµ¬ì§ì ì»¤ë®¤ë‹ˆí‹° (ë¡œê·¸ì¸ í•„ìš”)
                            React.createElement('div', {
                                key: 'community-card',
                                className: 'card text-center hover:shadow-xl hover:-translate-y-2 transition-all duration-300 cursor-pointer opacity-75',
                                onClick: () => {
                                    alert('ğŸ” êµ¬ì§ì ì»¤ë®¤ë‹ˆí‹°ëŠ” ë¬´ë£Œ íšŒì›ê°€ì… í›„ ì´ìš©ê°€ëŠ¥í•©ë‹ˆë‹¤!');
                                    setCurrentView('auth');
                                }
                            }, [
                                React.createElement('div', {
                                    key: 'community-icon',
                                    className: 'text-6xl mb-4'
                                }, 'ğŸ’¬'),
                                React.createElement('h3', {
                                    key: 'community-title',
                                    className: 'text-2xl font-bold text-gray-800 mb-3'
                                }, 'êµ¬ì§ì ì»¤ë®¤ë‹ˆí‹°'),
                                React.createElement('p', {
                                    key: 'community-desc',
                                    className: 'text-gray-600 mb-4 leading-relaxed'
                                }, 'ê°™ì€ ëª©í‘œë¥¼ ê°€ì§„ êµ¬ì§ìë“¤ê³¼ ì •ë³´ êµí™˜ ë° ë„¤íŠ¸ì›Œí‚¹'),
                                React.createElement('div', {
                                    key: 'community-badge',
                                    className: 'inline-block px-4 py-2 bg-orange-100 text-orange-700 rounded-full text-sm font-semibold'
                                }, 'ğŸ”’ ë¡œê·¸ì¸ í•„ìš”'),
                                React.createElement('div', {
                                    key: 'community-cta',
                                    className: 'mt-4 btn-secondary w-full py-3'
                                }, 'ì»¤ë®¤ë‹ˆí‹° ì°¸ì—¬')
                            ]),

                            // 3. í˜„ì§ì ë©˜í† ë§ (ë¡œê·¸ì¸ í•„ìš”)
                            React.createElement('div', {
                                key: 'mentoring-card',
                                className: 'card text-center hover:shadow-xl hover:-translate-y-2 transition-all duration-300 cursor-pointer opacity-75',
                                onClick: () => {
                                    alert('ğŸ’¼ í˜„ì§ì ë©˜í† ë§ì€ ë¬´ë£Œ íšŒì›ê°€ì… í›„ ì´ìš©ê°€ëŠ¥í•©ë‹ˆë‹¤!');
                                    setCurrentView('auth');
                                }
                            }, [
                                React.createElement('div', {
                                    key: 'mentoring-icon',
                                    className: 'text-6xl mb-4'
                                }, 'ğŸ‘¨â€ğŸ’¼'),
                                React.createElement('h3', {
                                    key: 'mentoring-title',
                                    className: 'text-2xl font-bold text-gray-800 mb-3'
                                }, 'í˜„ì§ì ë©˜í† ë§'),
                                React.createElement('p', {
                                    key: 'mentoring-desc',
                                    className: 'text-gray-600 mb-4 leading-relaxed'
                                }, '10ë¶„ ë‹¨ìœ„ ìœ ì—°í•œ ì‹œê°„ìœ¼ë¡œ ì‹¤ë¬´ ì¤‘ì‹¬ 1:1 ìƒë‹´'),
                                React.createElement('div', {
                                    key: 'mentoring-badge',
                                    className: 'inline-block px-4 py-2 bg-orange-100 text-orange-700 rounded-full text-sm font-semibold'
                                }, 'ğŸ”’ ë¡œê·¸ì¸ í•„ìš”'),
                                React.createElement('div', {
                                    key: 'mentoring-cta',
                                    className: 'mt-4 btn-secondary w-full py-3 bg-purple-500 hover:bg-purple-600'
                                }, 'ìƒë‹´ ì˜ˆì•½í•˜ê¸°')
                            ])
                        ]),

                        // ì „ë¬¸ê°€ ë“±ë¡ CTA (í”Œëœë¹„ ìŠ¤íƒ€ì¼)
                        React.createElement('div', {
                            key: 'expert-cta',
                            className: 'text-center bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-8 border border-blue-200'
                        }, [
                            React.createElement('h2', {
                                key: 'expert-title',
                                className: 'text-2xl font-bold text-gray-800 mb-3'
                            }, 'ğŸ‘¨â€ğŸ’¼ í˜„ì§ìì´ì‹ ê°€ìš”?'),
                            React.createElement('p', {
                                key: 'expert-desc',
                                className: 'text-gray-600 mb-6 max-w-2xl mx-auto'
                            }, 'í›„ë°° êµ¬ì§ìë“¤ì—ê²Œ ì‹¤ë¬´ ê²½í—˜ì„ ì „ìˆ˜í•˜ê³  ì¶”ê°€ ìˆ˜ì…ì„ ì°½ì¶œí•˜ì„¸ìš”. 10ë¶„ ë‹¨ìœ„ë¡œ ìœ ì—°í•˜ê²Œ ìƒë‹´í•˜ê³  íˆ¬ëª…í•œ ìˆ˜ìµ ì •ì‚°ì„ ë°›ìœ¼ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.'),
                            React.createElement('button', {
                                key: 'expert-btn',
                                className: 'btn-secondary text-lg px-8 py-4 bg-indigo-500 hover:bg-indigo-600',
                                onClick: () => {
                                    alert('í˜„ì§ì ë“±ë¡ì€ ë¬´ë£Œ íšŒì›ê°€ì… í›„ ê°€ëŠ¥í•©ë‹ˆë‹¤!');
                                    setCurrentView('auth');
                                }
                            }, 'ì „ë¬¸ê°€ë¡œ ì°¸ì—¬í•˜ê¸° â†’')
                        ])
                    ]),

                    // í‘¸í„°
                    React.createElement('footer', {
                        key: 'landing-footer',
                        className: 'bg-white border-t mt-16'
                    }, React.createElement('div', {
                        className: 'max-w-7xl mx-auto px-4 py-8 text-center'
                    }, [
                        React.createElement('p', {
                            key: 'copyright',
                            className: 'text-gray-600'
                        }, 'Â© 2025 (ì£¼)ì˜¤í”ˆì»¤ë„¥íŠ¸. All rights reserved.'),
                        React.createElement('p', {
                            key: 'tech-info',
                            className: 'text-sm text-gray-400 mt-2'
                        }, `í”Œëœë¹„ ê²€ì¦ ì•„í‚¤í…ì²˜ ê¸°ë°˜ â€¢ Supabase ${connectionStatus === 'connected' ? 'ì—°ê²°ë¨' : 'ì—°ê²° ì˜¤ë¥˜'}`)
                    ]))
                ]);
            }

            // ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ê²½ìš°
            if (!isAuthenticated) {
                const showAuthModal = currentView === 'auth';
                
                return React.createElement('div', {}, [
                    // ê¸°ë³¸ ëœë”© í™”ë©´
                    renderLandingPage(),
                    
                    // ë¡œê·¸ì¸ ëª¨ë‹¬ (ì¡°ê±´ë¶€ í‘œì‹œ)
                    showAuthModal ? renderAuthModal() : null
                ]);
            }

            // ë¡œê·¸ì¸ í›„ ë©”ì¸ í™”ë©´ (ê¸°ì¡´ ì½”ë“œ)
            return React.createElement('div', {
                className: 'min-h-screen bg-gradient-to-br from-green-50 to-blue-50'
            }, [
                // í—¤ë”
                React.createElement('header', {
                    key: 'header',
                    className: 'bg-white shadow-sm border-b'
                }, React.createElement('div', {
                    className: 'max-w-7xl mx-auto px-4 py-6'
                }, [
                    React.createElement('div', {
                        key: 'header-content',
                        className: 'flex items-center justify-between'
                    }, [
                        React.createElement('div', {
                            key: 'logo-area',
                            className: 'flex items-center space-x-3'
                        }, [
                            React.createElement('div', {
                                key: 'logo',
                                className: 'text-4xl'
                            }, 'ğŸ¯'),
                            React.createElement('div', {
                                key: 'title-area'
                            }, [
                                React.createElement('h1', {
                                    key: 'title',
                                    className: 'text-2xl font-bold text-gray-900'
                                }, 'ì¸ì‚¬ì´ë“œì¡'),
                                React.createElement('p', {
                                    key: 'subtitle',
                                    className: 'text-sm text-gray-500'
                                }, 'by (ì£¼)ì˜¤í”ˆì»¤ë„¥íŠ¸')
                            ])
                        ]),
                        React.createElement('div', {
                            key: 'header-actions',
                            className: 'flex items-center space-x-4'
                        }, [
                            React.createElement('div', {
                                key: 'connection-badge',
                                className: `px-3 py-1 rounded-full text-xs font-medium ${
                                    connectionStatus === 'connected' 
                                    ? 'bg-green-100 text-green-800'
                                    : 'bg-red-100 text-red-800'
                                }`
                            }, connectionStatus === 'connected' ? 'âœ… ì—°ê²°ë¨' : 'âŒ ì—°ê²° ì˜¤ë¥˜'),
                            
                            isAuthenticated ? 
                                React.createElement('div', {
                                    key: 'user-menu',
                                    className: 'flex items-center space-x-3'
                                }, [
                                    React.createElement('button', {
                                        key: 'user-greeting',
                                        className: 'text-sm text-gray-600 hover:text-blue-600 font-medium',
                                        onClick: () => setCurrentView('mypage')
                                    }, `ì•ˆë…•í•˜ì„¸ìš”, ${currentUser?.user_metadata?.nickname || currentUser?.email || 'ì‚¬ìš©ì'}ë‹˜!`),
                                    React.createElement('button', {
                                        key: 'logout-btn',
                                        className: 'text-sm text-red-600 hover:text-red-800 font-medium',
                                        onClick: handleLogout
                                    }, 'ë¡œê·¸ì•„ì›ƒ')
                                ]) :
                                React.createElement('button', {
                                    key: 'login-btn',
                                    className: 'btn-secondary text-sm px-4 py-2',
                                    onClick: () => setCurrentView('auth')
                                }, 'ë¡œê·¸ì¸')
                        ])
                    ])
                ])),
                
                // ë©”ì¸ ì»¨í…ì¸ 
                React.createElement('main', {
                    key: 'main',
                    className: 'max-w-4xl mx-auto px-4 py-12'
                }, [
                    React.createElement('div', {
                        key: 'hero-section',
                        className: 'text-center mb-12'
                    }, [
                        React.createElement('h2', {
                            key: 'hero-title',
                            className: 'text-4xl font-bold text-gray-900 mb-4'
                        }, 'í˜„ì§ìì™€ êµ¬ì§ìë¥¼ ì—°ê²°í•˜ëŠ”'),
                        React.createElement('h3', {
                            key: 'hero-subtitle', 
                            className: 'text-3xl font-bold text-green-600 mb-6'
                        }, 'ì‹¤ë¬´ ì¤‘ì‹¬ ì·¨ì—… ë©˜í† ë§ í”Œë«í¼'),
                        React.createElement('p', {
                            key: 'hero-description',
                            className: 'text-lg text-gray-600 max-w-2xl mx-auto'
                        }, 'ë¬´ë£Œ ì·¨ì—…ê²½ìŸë ¥ ì§„ë‹¨ë¶€í„° í˜„ì§ì 1:1 ë©˜í† ë§ê¹Œì§€, ì·¨ì—… ì„±ê³µì„ ìœ„í•œ ëª¨ë“  ê²ƒ')
                    ]),
                    
                    // ê¸°ëŠ¥ ì¹´ë“œë“¤
                    React.createElement('div', {
                        key: 'features',
                        className: 'grid md:grid-cols-3 gap-6 mb-12'
                    }, [
                        React.createElement('div', {
                            key: 'feature-1',
                            className: 'card text-center hover:shadow-lg transition-shadow'
                        }, [
                            React.createElement('div', {
                                key: 'icon-1',
                                className: 'text-4xl mb-4'
                            }, 'ğŸ§®'),
                            React.createElement('h3', {
                                key: 'title-1',
                                className: 'text-xl font-semibold mb-2'
                            }, 'ì·¨ì—…ê²½ìŸë ¥ ì§„ë‹¨'),
                            React.createElement('p', {
                                key: 'desc-1',
                                className: 'text-gray-600'
                            }, '6ë‹¨ê³„ ì •ë°€ ë¶„ì„ìœ¼ë¡œ í˜„ì¬ ì—­ëŸ‰ì„ ê°ê´€ì ìœ¼ë¡œ í‰ê°€')
                        ]),
                        
                        React.createElement('div', {
                            key: 'feature-2',
                            className: 'card text-center hover:shadow-lg transition-shadow cursor-pointer',
                            onClick: () => {
                                if (isAuthenticated) {
                                    setCurrentView('community');
                                } else {
                                    alert('ì»¤ë®¤ë‹ˆí‹°ëŠ” íšŒì›ê°€ì… í›„ ì´ìš©ê°€ëŠ¥í•©ë‹ˆë‹¤!');
                                    setCurrentView('auth');
                                }
                            }
                        }, [
                            React.createElement('div', {
                                key: 'icon-2',
                                className: 'text-4xl mb-4'
                            }, 'ğŸ’¬'),
                            React.createElement('h3', {
                                key: 'title-2',
                                className: 'text-xl font-semibold mb-2'
                            }, 'êµ¬ì§ì ì»¤ë®¤ë‹ˆí‹°'),
                            React.createElement('p', {
                                key: 'desc-2',
                                className: 'text-gray-600'
                            }, 'ê°™ì€ ëª©í‘œë¥¼ ê°€ì§„ êµ¬ì§ìë“¤ê³¼ì˜ ì •ë³´ êµí™˜ ë° ë„¤íŠ¸ì›Œí‚¹')
                        ]),
                        
                        React.createElement('div', {
                            key: 'feature-3',
                            className: 'card text-center hover:shadow-lg transition-shadow cursor-pointer',
                            onClick: () => {
                                if (isAuthenticated) {
                                    setCurrentView('consultation');
                                } else {
                                    alert('ì „ë¬¸ê°€ ìƒë‹´ì€ íšŒì›ê°€ì… í›„ ì´ìš©ê°€ëŠ¥í•©ë‹ˆë‹¤!');
                                    setCurrentView('auth');
                                }
                            }
                        }, [
                            React.createElement('div', {
                                key: 'icon-3',
                                className: 'text-4xl mb-4'
                            }, 'ğŸ‘¨â€ğŸ’¼'),
                            React.createElement('h3', {
                                key: 'title-3',
                                className: 'text-xl font-semibold mb-2'
                            }, 'í˜„ì§ì ë©˜í† ë§'),
                            React.createElement('p', {
                                key: 'desc-3',
                                className: 'text-gray-600'
                            }, '10ë¶„ ë‹¨ìœ„ ìœ ì—°í•œ ì‹œê°„ìœ¼ë¡œ ì‹¤ë¬´ ì¤‘ì‹¬ 1:1 ìƒë‹´')
                        ])
                    ]),
                    
                    // CTA ë²„íŠ¼ë“¤
                    React.createElement('div', {
                        key: 'cta-section',
                        className: 'text-center space-y-4'
                    }, [
                        React.createElement('button', {
                            key: 'start-btn',
                            className: 'btn-primary text-lg px-8 py-4 mr-4',
                            onClick: () => setCurrentView('calculator')
                        }, 'ğŸ§® ì·¨ì—…ê²½ìŸë ¥ ì§„ë‹¨ ì‹œì‘'),
                        
                        React.createElement('button', {
                            key: 'expert-btn', 
                            className: 'btn-secondary text-lg px-8 py-4',
                            onClick: () => alert('í˜„ì§ì ë“±ë¡ ì‹œìŠ¤í…œ ê°œë°œ ì˜ˆì •! ğŸ’¼')
                        }, 'ğŸ‘¨â€ğŸ’¼ í˜„ì§ìë¡œ ì°¸ì—¬í•˜ê¸°')
                    ]),
                    
                    // ì‚¬ìš©ì ì—­í• ë³„ ì¶”ê°€ ë©”ë‰´ (ë¡œê·¸ì¸ í›„ì—ë§Œ í‘œì‹œ)
                    isAuthenticated ? React.createElement('div', {
                        key: 'user-menu-section',
                        className: 'mt-16 pt-8 border-t border-gray-200'
                    }, [
                        React.createElement('h3', {
                            key: 'menu-title',
                            className: 'text-2xl font-bold text-gray-900 text-center mb-8'
                        }, 'ğŸ¯ ê°œì¸ ë§ì¶¤ ì„œë¹„ìŠ¤'),
                        
                        React.createElement('div', {
                            key: 'user-features',
                            className: 'grid md:grid-cols-2 lg:grid-cols-4 gap-4'
                        }, [
                            // ëª¨ë“  ì‚¬ìš©ì ê³µí†µ - ë§ˆì´í˜ì´ì§€
                            React.createElement('div', {
                                key: 'mypage-card',
                                className: 'card text-center hover:shadow-lg transition-shadow cursor-pointer',
                                onClick: () => setCurrentView('mypage')
                            }, [
                                React.createElement('div', {
                                    key: 'mypage-icon',
                                    className: 'text-3xl mb-3'
                                }, 'ğŸ‘¤'),
                                React.createElement('h4', {
                                    key: 'mypage-title',
                                    className: 'font-semibold mb-2'
                                }, 'ë§ˆì´í˜ì´ì§€'),
                                React.createElement('p', {
                                    key: 'mypage-desc',
                                    className: 'text-sm text-gray-600'
                                }, 'í”„ë¡œí•„ ë° í™œë™ ê´€ë¦¬')
                            ]),
                            
                            // ì¼ë°˜íšŒì›/ì „ë¬¸ê°€ ê³µí†µ - ìª½ì§€
                            ['member', 'expert'].includes(userRole) ? React.createElement('div', {
                                key: 'messages-card',
                                className: 'card text-center hover:shadow-lg transition-shadow cursor-pointer',
                                onClick: () => setCurrentView('messages')
                            }, [
                                React.createElement('div', {
                                    key: 'messages-icon',
                                    className: 'text-3xl mb-3'
                                }, 'ğŸ“©'),
                                React.createElement('h4', {
                                    key: 'messages-title',
                                    className: 'font-semibold mb-2'
                                }, 'ìª½ì§€'),
                                React.createElement('p', {
                                    key: 'messages-desc',
                                    className: 'text-sm text-gray-600'
                                }, 'íšŒì› ê°„ ë©”ì‹œì§€ êµí™˜')
                            ]) : null,
                            
                            // ì „ë¬¸ê°€ ì „ìš© ë©”ë‰´
                            userRole === 'expert' ? React.createElement('div', {
                                key: 'expert-dashboard-card',
                                className: 'card text-center hover:shadow-lg transition-shadow cursor-pointer',
                                onClick: () => alert('ì „ë¬¸ê°€ ëŒ€ì‹œë³´ë“œ ê°œë°œ ì˜ˆì •!')
                            }, [
                                React.createElement('div', {
                                    key: 'expert-icon',
                                    className: 'text-3xl mb-3'
                                }, 'ğŸ‘¨â€ğŸ’¼'),
                                React.createElement('h4', {
                                    key: 'expert-title',
                                    className: 'font-semibold mb-2'
                                }, 'ìƒë‹´ ê´€ë¦¬'),
                                React.createElement('p', {
                                    key: 'expert-desc',
                                    className: 'text-sm text-gray-600'
                                }, 'ì˜ˆì•½ ë° ìˆ˜ìµ ê´€ë¦¬')
                            ]) : null,
                            
                            // ê´€ë¦¬ì ì „ìš© ë©”ë‰´
                            userRole === 'admin' ? React.createElement('div', {
                                key: 'admin-panel-card',
                                className: 'card text-center hover:shadow-lg transition-shadow cursor-pointer bg-red-50 border-red-200',
                                onClick: () => setCurrentView('admin')
                            }, [
                                React.createElement('div', {
                                    key: 'admin-icon',
                                    className: 'text-3xl mb-3'
                                }, 'ğŸ”§'),
                                React.createElement('h4', {
                                    key: 'admin-title',
                                    className: 'font-semibold mb-2 text-red-800'
                                }, 'ê´€ë¦¬ì íŒ¨ë„'),
                                React.createElement('p', {
                                    key: 'admin-desc',
                                    className: 'text-sm text-red-600'
                                }, 'ì‹œìŠ¤í…œ ì„¤ì • ë° ê´€ë¦¬')
                            ]) : null
                        ].filter(Boolean)) // null ê°’ ì œê±°
                    ]) : null
                ]),
                
                // í‘¸í„°
                React.createElement('footer', {
                    key: 'footer',
                    className: 'bg-white border-t mt-16'
                }, React.createElement('div', {
                    className: 'max-w-7xl mx-auto px-4 py-8 text-center'
                }, [
                    React.createElement('p', {
                        key: 'copyright',
                        className: 'text-gray-600'
                    }, 'Â© 2025 (ì£¼)ì˜¤í”ˆì»¤ë„¥íŠ¸. All rights reserved.'),
                    React.createElement('p', {
                        key: 'tech-info',
                        className: 'text-sm text-gray-400 mt-2'
                    }, `í”Œëœë¹„ ê²€ì¦ ì•„í‚¤í…ì²˜ ê¸°ë°˜ â€¢ Supabase ${connectionStatus === 'connected' ? 'ì—°ê²°ë¨' : 'ì—°ê²° ì˜¤ë¥˜'}`)
                ]))
            ]);
        };

        // ì‹¤ì‹œê°„ ì±„íŒ… ì‹œìŠ¤í…œ (ì „ë¬¸ê°€ ìƒë‹´ ì „ìš©)
        const renderConsultationChatView = (bookingId) => {
            const [messages, setMessages] = React.useState([]);
            const [newMessage, setNewMessage] = React.useState('');
            const [chatRoom, setChatRoom] = React.useState(null);
            const [isLoading, setIsLoading] = React.useState(true);
            const [participants, setParticipants] = React.useState([]);
            const messagesEndRef = React.useRef(null);

            // ì±„íŒ…ë°© ìƒì„± ë˜ëŠ” ê°€ì ¸ì˜¤ê¸°
            React.useEffect(() => {
                const initializeChatRoom = async () => {
                    try {
                        // ê¸°ì¡´ ì±„íŒ…ë°© í™•ì¸
                        const { data: existingRoom, error: roomError } = await supabaseClient
                            .from('chat_rooms')
                            .select('*')
                            .eq('name', `ìƒë‹´ ${bookingId}`)
                            .eq('room_type', 'consultation')
                            .single();

                        let room;
                        if (existingRoom) {
                            room = existingRoom;
                        } else {
                            // ìƒˆ ì±„íŒ…ë°© ìƒì„±
                            const { data: newRoom, error: createError } = await supabaseClient
                                .from('chat_rooms')
                                .insert({
                                    name: `ìƒë‹´ ${bookingId}`,
                                    description: 'ì „ë¬¸ê°€ ìƒë‹´ ì±„íŒ…ë°©',
                                    room_type: 'consultation',
                                    created_by: currentUser?.id
                                })
                                .select()
                                .single();

                            if (createError) throw createError;
                            room = newRoom;
                        }

                        setChatRoom(room);

                        // ì±„íŒ…ë°© ì°¸ì—¬ì ë“±ë¡
                        const { error: participantError } = await supabaseClient
                            .from('chat_participants')
                            .upsert({
                                room_id: room.id,
                                user_id: currentUser?.id,
                                is_active: true
                            });

                        if (participantError) console.error('Participant error:', participantError);

                        // ê¸°ì¡´ ë©”ì‹œì§€ ë¡œë“œ
                        const { data: existingMessages, error: messagesError } = await supabaseClient
                            .from('chat_messages')
                            .select(`
                                *,
                                user_profiles!inner(nickname)
                            `)
                            .eq('room_id', room.id)
                            .order('created_at', { ascending: true });

                        if (!messagesError && existingMessages) {
                            setMessages(existingMessages);
                        }

                        setIsLoading(false);
                    } catch (error) {
                        console.error('Chat room initialization error:', error);
                        setIsLoading(false);
                    }
                };

                if (bookingId && currentUser) {
                    initializeChatRoom();
                }
            }, [bookingId, currentUser]);

            // ì‹¤ì‹œê°„ ë©”ì‹œì§€ êµ¬ë…
            React.useEffect(() => {
                if (!chatRoom) return;

                const subscription = supabaseClient
                    .channel(`chat-room-${chatRoom.id}`)
                    .on('postgres_changes', {
                        event: 'INSERT',
                        schema: 'public',
                        table: 'chat_messages',
                        filter: `room_id=eq.${chatRoom.id}`
                    }, async (payload) => {
                        // ìƒˆ ë©”ì‹œì§€ì— ì‚¬ìš©ì ì •ë³´ ì¶”ê°€
                        const { data: userInfo } = await supabaseClient
                            .from('user_profiles')
                            .select('nickname')
                            .eq('user_id', payload.new.user_id)
                            .single();

                        const messageWithUser = {
                            ...payload.new,
                            user_profiles: userInfo || { nickname: 'ìµëª…' }
                        };

                        setMessages(prev => [...prev, messageWithUser]);
                    })
                    .subscribe();

                return () => {
                    supabaseClient.removeChannel(subscription);
                };
            }, [chatRoom]);

            // ìë™ ìŠ¤í¬ë¡¤
            React.useEffect(() => {
                messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
            }, [messages]);

            // ë©”ì‹œì§€ ì „ì†¡
            const handleSendMessage = async () => {
                if (!newMessage.trim() || !chatRoom) return;

                try {
                    const { error } = await supabaseClient
                        .from('chat_messages')
                        .insert({
                            room_id: chatRoom.id,
                            user_id: currentUser?.id,
                            message_text: newMessage.trim(),
                            message_type: 'text'
                        });

                    if (error) throw error;
                    setNewMessage('');
                } catch (error) {
                    console.error('Message send error:', error);
                    alert('ë©”ì‹œì§€ ì „ì†¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
                }
            };

            // ì—”í„° í‚¤ë¡œ ì „ì†¡
            const handleKeyPress = (e) => {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    handleSendMessage();
                }
            };

            if (isLoading) {
                return React.createElement('div', {
                    className: 'flex items-center justify-center h-96'
                }, [
                    React.createElement('div', {
                        key: 'spinner',
                        className: 'loading-spinner'
                    }),
                    React.createElement('div', {
                        key: 'text',
                        className: 'ml-4 text-gray-600'
                    }, 'ì±„íŒ…ë°© ì—°ê²° ì¤‘...')
                ]);
            }

            return React.createElement('div', {
                className: 'max-w-4xl mx-auto p-4'
            }, [
                React.createElement('div', {
                    key: 'header',
                    className: 'card mb-4'
                }, [
                    React.createElement('div', {
                        key: 'chat-header',
                        className: 'flex items-center justify-between'
                    }, [
                        React.createElement('div', {
                            key: 'title-section'
                        }, [
                            React.createElement('h2', {
                                key: 'title',
                                className: 'text-2xl font-bold text-gray-800'
                            }, 'ğŸ’¬ ì‹¤ì‹œê°„ ìƒë‹´ ì±„íŒ…'),
                            React.createElement('p', {
                                key: 'subtitle',
                                className: 'text-gray-600 text-sm'
                            }, `ìƒë‹´ ID: ${bookingId}`)
                        ]),
                        React.createElement('div', {
                            key: 'status',
                            className: 'flex items-center'
                        }, [
                            React.createElement('div', {
                                key: 'online-indicator',
                                className: 'w-3 h-3 bg-green-500 rounded-full mr-2'
                            }),
                            React.createElement('span', {
                                key: 'status-text',
                                className: 'text-sm text-green-600 font-medium'
                            }, 'ì‹¤ì‹œê°„ ì—°ê²°')
                        ])
                    ])
                ]),

                React.createElement('div', {
                    key: 'chat-container',
                    className: 'card'
                }, [
                    // ë©”ì‹œì§€ ëª©ë¡
                    React.createElement('div', {
                        key: 'messages-area',
                        className: 'h-96 overflow-y-auto border border-gray-200 rounded-lg p-4 bg-gray-50 mb-4',
                        style: { maxHeight: '400px' }
                    }, [
                        ...messages.map(message => 
                            React.createElement('div', {
                                key: message.id,
                                className: `mb-4 ${message.user_id === currentUser?.id ? 'text-right' : 'text-left'}`
                            }, [
                                React.createElement('div', {
                                    key: 'message-bubble',
                                    className: `inline-block max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${
                                        message.user_id === currentUser?.id
                                            ? 'bg-blue-500 text-white'
                                            : 'bg-white text-gray-800 shadow-md'
                                    }`
                                }, message.message_text),
                                React.createElement('div', {
                                    key: 'message-info',
                                    className: 'text-xs text-gray-500 mt-1'
                                }, [
                                    React.createElement('span', {
                                        key: 'author'
                                    }, message.user_profiles?.nickname || 'ìµëª…'),
                                    React.createElement('span', {
                                        key: 'time',
                                        className: 'ml-2'
                                    }, new Date(message.created_at).toLocaleTimeString())
                                ])
                            ])
                        ),
                        React.createElement('div', {
                            key: 'messages-end',
                            ref: messagesEndRef
                        })
                    ]),

                    // ë©”ì‹œì§€ ì…ë ¥ ì˜ì—­
                    React.createElement('div', {
                        key: 'input-area',
                        className: 'flex space-x-3'
                    }, [
                        React.createElement('textarea', {
                            key: 'message-input',
                            value: newMessage,
                            onChange: (e) => setNewMessage(e.target.value),
                            onKeyPress: handleKeyPress,
                            placeholder: 'ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”... (Enter: ì „ì†¡, Shift+Enter: ì¤„ë°”ê¿ˆ)',
                            className: 'flex-1 px-4 py-3 border border-gray-300 rounded-lg resize-none text-base',
                            rows: 2
                        }),
                        React.createElement('button', {
                            key: 'send-button',
                            onClick: handleSendMessage,
                            disabled: !newMessage.trim(),
                            className: 'btn-primary px-6 py-3 disabled:opacity-50 disabled:cursor-not-allowed'
                        }, 'ì „ì†¡')
                    ])
                ]),

                React.createElement('div', {
                    key: 'chat-footer',
                    className: 'mt-6 text-center'
                }, [
                    React.createElement('button', {
                        key: 'back-btn',
                        className: 'btn-secondary mr-4',
                        onClick: () => setCurrentView('consultation')
                    }, 'â† ìƒë‹´ ëª©ë¡ìœ¼ë¡œ'),
                    React.createElement('button', {
                        key: 'end-chat-btn',
                        className: 'btn-secondary bg-red-500 hover:bg-red-600',
                        onClick: () => {
                            if (confirm('ì±„íŒ…ì„ ì¢…ë£Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                                setCurrentView('consultation');
                            }
                        }
                    }, 'ì±„íŒ… ì¢…ë£Œ')
                ])
            ]);
        };

        // ì±„íŒ…ë°© ì…ì¥ í•¨ìˆ˜
        const enterConsultationChat = (bookingId) => {
            setCurrentView('consultation-chat');
            setSelectedBooking(bookingId);
        };

        // ì•± ë Œë”ë§
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(InsideJobApp));
        
        // ê°œë°œ í¸ì˜ë¥¼ ìœ„í•œ ì „ì—­ í•¨ìˆ˜
        window.supabase = supabaseClient;
        window.testConnection = async () => {
            try {
                console.log('Supabase Client:', supabaseClient);
                console.log('URL:', SUPABASE_URL);
                console.log('ì—°ê²° ìƒíƒœ: ì •ìƒ');
            } catch (error) {
                console.log('ì—°ê²° ì˜¤ë¥˜:', error);
            }
        };
        
        console.log('ğŸ¯ ì¸ì‚¬ì´ë“œì¡ í”Œë«í¼ ì‹œì‘!');
        console.log('ê°œë°œì ë„êµ¬ì—ì„œ window.testConnection() ìœ¼ë¡œ Supabase ì—°ê²°ì„ í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”.');
    </script>
</body>
</html>